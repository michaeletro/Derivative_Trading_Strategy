var Module=(()=>{var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return function(r={}){var t,n;(r=void 0!==r?r:{}).ready=new Promise(((e,r)=>{t=e,n=r})),r.expectedDataFileDownloads||(r.expectedDataFileDownloads=0),r.expectedDataFileDownloads++,r.ENVIRONMENT_IS_PTHREAD||r.$ww||function(e){"object"==typeof window?window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/"):"undefined"==typeof process&&"undefined"!=typeof location&&encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/");var t="scichart3d.data";"function"!=typeof r.locateFilePackage||r.locateFile||(r.locateFile=r.locateFilePackage,v("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var n,o,a,i,s=r.locateFile?r.locateFile(t,""):t,u=e.remote_package_size,c=null,l=r.getPreloadedPackage?r.getPreloadedPackage(s,u):null;function f(){function t(e,r){if(!e)throw r+(new Error).stack}function n(e,r,t){this.start=e,this.end=r,this.audio=t}r.FS_createPath("/","assets",!0,!0),n.prototype={requests:{},open:function(e,t){this.name=t,this.requests[t]=this,r.addRunDependency(`fp ${this.name}`)},send:function(){},onload:function(){var e=this.byteArray.subarray(this.start,this.end);this.finish(e)},finish:function(e){r.FS_createDataFile(this.name,null,e,!0,!0,!0),r.removeRunDependency(`fp ${this.name}`),this.requests[this.name]=null}};for(var o=e.files,a=0;a<o.length;++a)new n(o[a].start,o[a].end,o[a].audio||0).open("GET",o[a].filename);function i(o){t(o,"Loading data file failed."),t(o.constructor.name===ArrayBuffer.name,"bad input to processPackageData");var a=new Uint8Array(o);n.prototype.byteArray=a;for(var i=e.files,s=0;s<i.length;++s)n.prototype.requests[i[s].filename].onload();r.removeRunDependency("datafile_scichart3d.data")}r.addRunDependency("datafile_scichart3d.data"),r.preloadResults||(r.preloadResults={}),r.preloadResults["scichart3d.data"]={fromCache:!1},l?(i(l),l=null):c=i}l||(n=s,o=u,a=function(e){c?(c(e),c=null):l=e},(i=new XMLHttpRequest).open("GET",n,!0),i.responseType="arraybuffer",i.onprogress=function(e){var t=n,a=o;if(e.total&&(a=e.total),e.loaded){i.addedTotal?r.dataFileDownloads[t].loaded=e.loaded:(i.addedTotal=!0,r.dataFileDownloads||(r.dataFileDownloads={}),r.dataFileDownloads[t]={loaded:e.loaded,total:a});var s=0,u=0,c=0;for(var l in r.dataFileDownloads){var f=r.dataFileDownloads[l];s+=f.total,u+=f.loaded,c++}s=Math.ceil(s*r.expectedDataFileDownloads/c),r.setStatus&&r.setStatus(`Downloading data... (${u}/${s})`)}else r.dataFileDownloads||r.setStatus&&r.setStatus("Downloading data...")},i.onerror=function(e){throw new Error("NetworkError for: "+n)},i.onload=function(e){if(!(200==i.status||304==i.status||206==i.status||0==i.status&&i.response))throw new Error(i.statusText+" : "+i.responseURL);var r=i.response;a(r)},i.send(null)),r.calledRun?f():(r.preRun||(r.preRun=[]),r.preRun.push(f))}({files:[{filename:"/assets/SCRTAssets.web.pkg",start:0,end:507809},{filename:"/assets/TSRAssets.web.pkg",start:507809,end:1123273}],remote_package_size:1123273}),tt&&(tt=function(e){e=et(e);var t=rt[e]||document.querySelector(e);return"#canvas"===e&&(t=t||r.canvas),t});var o,a,i,s=Object.assign({},r),u=[],c="./this.program",l=(e,r)=>{throw r},f="";"undefined"!=typeof document&&document.currentScript&&(f=document.currentScript.src),e&&(f=e),f=0!==f.indexOf("blob:")?f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},a=(e,r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?r(n.response):t()},n.onerror=t,n.send(null)},i=e=>document.title=e;var d,m=r.print||console.log.bind(console),v=r.printErr||console.error.bind(console);Object.assign(r,s),s=null,r.arguments&&(u=r.arguments),r.thisProgram&&(c=r.thisProgram),r.quit&&(l=r.quit),r.wasmBinary&&(d=r.wasmBinary);var p,h=r.noExitRuntime||!0;"object"!=typeof WebAssembly&&G("no native wasm support detected");var g,y,w,b,E,k,x,C,_,S,P=!1;function F(e,r){e||G(r)}function D(){var e=p.buffer;r.HEAP8=y=new Int8Array(e),r.HEAP16=b=new Int16Array(e),r.HEAP32=k=new Int32Array(e),r.HEAPU8=w=new Uint8Array(e),r.HEAPU16=E=new Uint16Array(e),r.HEAPU32=x=new Uint32Array(e),r.HEAPF32=C=new Float32Array(e),r.HEAPF64=_=new Float64Array(e)}var L=[],T=[],A=[],M=[],$=[];function R(){return h||!1}var I,O,B,j,N=0,z=null,U=null;function q(e){N++,r.monitorRunDependencies&&r.monitorRunDependencies(N)}function H(e){if(N--,r.monitorRunDependencies&&r.monitorRunDependencies(N),0==N&&(null!==z&&(clearInterval(z),z=null),U)){var t=U;U=null,t()}}function G(e){r.onAbort&&r.onAbort(e),v(e="Aborted("+e+")"),P=!0,g=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw n(t),t}function W(e){return e.startsWith("data:application/octet-stream;base64,")}function Y(e){try{if(e==I&&d)return new Uint8Array(d);throw"both async and sync fetching of the wasm failed"}catch(e){G(e)}}function V(e,r,t){return function(e){return d||"function"!=typeof fetch?Promise.resolve().then((()=>Y(e))):fetch(e,{credentials:"same-origin"}).then((r=>{if(!r.ok)throw"failed to load wasm binary file at '"+e+"'";return r.arrayBuffer()})).catch((()=>Y(e)))}(e).then((e=>WebAssembly.instantiate(e,r))).then((e=>e)).then(t,(e=>{v("failed to asynchronously prepare wasm: "+e),G(e)}))}W(I="scichart3d.wasm")||(O=I,I=r.locateFile?r.locateFile(O,f):f+O);var X={358216:()=>{var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?0:/Android/i.test(e)?1:/iPad|iPhone|iPod/.test(e)&&!window.MSStream?2:0},358486:()=>r.getRandomValue(),358522:()=>{if(void 0===r.getRandomValue)try{var e="object"==typeof window?window:self,t=void 0!==e.crypto?e.crypto:e.msCrypto,n=function(){var e=new Uint32Array(1);return t.getRandomValues(e),e[0]>>>0};n(),r.getRandomValue=n}catch(e){try{var o=Math.pow(2,32),a=function(){return Math.floor(Math.random()*Math.floor(o))>>>0};a(),r.getRandomValue=a}catch(e){throw"No secure random number generator found"}}},359204:e=>{var r=he(e)+"\n\nAbort/Retry/Ignore/AlwaysIgnore? [ariA] :",t=window.prompt(r,"i");return null===t&&(t="i"),allocate(se(t),"i8",ALLOC_NORMAL)},359429:()=>"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext,359576:()=>void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia||void 0!==navigator.webkitGetUserMedia,359810:e=>{void 0===r.SDL2&&(r.SDL2={});var t,n,o=r.SDL2;return e?o.capture={}:o.audio={},o.audioContext||("undefined"!=typeof AudioContext?o.audioContext=new AudioContext:"undefined"!=typeof webkitAudioContext&&(o.audioContext=new webkitAudioContext),o.audioContext&&(t=o.audioContext,n||(n=[document,document.getElementById("canvas")]),["keydown","mousedown","touchstart"].forEach((e=>{n.forEach((r=>{r&&function(e,r){e.addEventListener(r,(()=>{"suspended"===t.state&&t.resume()}),{once:!0})}(r,e)}))})))),void 0===o.audioContext?-1:0},360303:()=>r.SDL2.audioContext.sampleRate,360371:(e,t,n,o)=>{var a=r.SDL2,i=function(r){void 0!==a.capture.silenceTimer&&(clearTimeout(a.capture.silenceTimer),a.capture.silenceTimer=void 0),a.capture.mediaStreamNode=a.audioContext.createMediaStreamSource(r),a.capture.scriptProcessorNode=a.audioContext.createScriptProcessor(t,e,1),a.capture.scriptProcessorNode.onaudioprocess=function(e){void 0!==a&&void 0!==a.capture&&(e.outputBuffer.getChannelData(0).fill(0),a.capture.currentCaptureBuffer=e.inputBuffer,Z("vi",n,[o]))},a.capture.mediaStreamNode.connect(a.capture.scriptProcessorNode),a.capture.scriptProcessorNode.connect(a.audioContext.destination),a.capture.stream=r},s=function(e){};a.capture.silenceBuffer=a.audioContext.createBuffer(e,t,a.audioContext.sampleRate),a.capture.silenceBuffer.getChannelData(0).fill(0),a.capture.silenceTimer=setTimeout((function(){a.capture.currentCaptureBuffer=a.capture.silenceBuffer,Z("vi",n,[o])}),t/a.audioContext.sampleRate*1e3),void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(i).catch(s):void 0!==navigator.webkitGetUserMedia&&navigator.webkitGetUserMedia({audio:!0,video:!1},i,s)},362023:(e,t,n,o)=>{var a=r.SDL2;a.audio.scriptProcessorNode=a.audioContext.createScriptProcessor(t,0,e),a.audio.scriptProcessorNode.onaudioprocess=function(e){void 0!==a&&void 0!==a.audio&&(a.audio.currentOutputBuffer=e.outputBuffer,Z("vi",n,[o]))},a.audio.scriptProcessorNode.connect(a.audioContext.destination)},362433:(e,t)=>{for(var n=r.SDL2,o=n.capture.currentCaptureBuffer.numberOfChannels,a=0;a<o;++a){var i=n.capture.currentCaptureBuffer.getChannelData(a);if(i.length!=t)throw"Web Audio capture buffer length mismatch! Destination size: "+i.length+" samples vs expected "+t+" samples!";if(1==o)for(var s=0;s<t;++s)ee(e+4*s,i[s],"float");else for(s=0;s<t;++s)ee(e+4*(s*o+a),i[s],"float")}},363038:(e,t)=>{for(var n=r.SDL2,o=n.audio.currentOutputBuffer.numberOfChannels,a=0;a<o;++a){var i=n.audio.currentOutputBuffer.getChannelData(a);if(i.length!=t)throw"Web Audio output buffer length mismatch! Destination size: "+i.length+" samples vs expected "+t+" samples!";for(var s=0;s<t;++s)i[s]=C[e+(s*o+a<<2)>>2]}},363518:e=>{var t=r.SDL2;if(e){if(void 0!==t.capture.silenceTimer&&clearTimeout(t.capture.silenceTimer),void 0!==t.capture.stream){for(var n=t.capture.stream.getAudioTracks(),o=0;o<n.length;o++)t.capture.stream.removeTrack(n[o]);t.capture.stream=void 0}void 0!==t.capture.scriptProcessorNode&&(t.capture.scriptProcessorNode.onaudioprocess=function(e){},t.capture.scriptProcessorNode.disconnect(),t.capture.scriptProcessorNode=void 0),void 0!==t.capture.mediaStreamNode&&(t.capture.mediaStreamNode.disconnect(),t.capture.mediaStreamNode=void 0),void 0!==t.capture.silenceBuffer&&(t.capture.silenceBuffer=void 0),t.capture=void 0}else null!=t.audio.scriptProcessorNode&&(t.audio.scriptProcessorNode.disconnect(),t.audio.scriptProcessorNode=void 0),t.audio=void 0;void 0!==t.audioContext&&void 0===t.audio&&void 0===t.capture&&(t.audioContext.close(),t.audioContext=void 0)},364690:(e,t,n)=>{var o=e,a=t,i=n;r.SDL2||(r.SDL2={});var s=r.SDL2;s.ctxCanvas!==r.canvas&&(s.ctx=r.createContext(r.canvas,!1,!0),s.ctxCanvas=r.canvas),s.w===o&&s.h===a&&s.imageCtx===s.ctx||(s.image=s.ctx.createImageData(o,a),s.w=o,s.h=a,s.imageCtx=s.ctx);var u,c=s.image.data,l=i>>2,f=0;if("undefined"!=typeof CanvasPixelArray&&c instanceof CanvasPixelArray)for(u=c.length;f<u;){var d=k[l];c[f]=255&d,c[f+1]=d>>8&255,c[f+2]=d>>16&255,c[f+3]=255,l++,f+=4}else{s.data32Data!==c&&(s.data32=new Int32Array(c.buffer),s.data8=new Uint8Array(c.buffer),s.data32Data=c);var m=s.data32;u=m.length,m.set(k.subarray(l,l+u));var v=s.data8,p=3,h=p+4*u;if(u%8==0)for(;p<h;)v[p]=255,v[p=p+4|0]=255,v[p=p+4|0]=255,v[p=p+4|0]=255,v[p=p+4|0]=255,v[p=p+4|0]=255,v[p=p+4|0]=255,v[p=p+4|0]=255,p=p+4|0;else for(;p<h;)v[p]=255,p=p+4|0}s.ctx.putImageData(s.image,0,0)},366159:(e,r,t,n,o)=>{var a=e,i=r,s=t,u=n,c=o,l=document.createElement("canvas");l.width=a,l.height=i;var f,d=l.getContext("2d"),m=d.createImageData(a,i),v=m.data,p=c>>2,h=0;if("undefined"!=typeof CanvasPixelArray&&v instanceof CanvasPixelArray)for(f=v.length;h<f;){var g=k[p];v[h]=255&g,v[h+1]=g>>8&255,v[h+2]=g>>16&255,v[h+3]=g>>24&255,p++,h+=4}else{var y=new Int32Array(v.buffer);f=y.length,y.set(k.subarray(p,p+f))}d.putImageData(m,0,0);var w=0===s&&0===u?"url("+l.toDataURL()+"), auto":"url("+l.toDataURL()+") "+s+" "+u+", auto",b=gi(w.length+1);return kr(w,b,w.length+1),b},367148:e=>{r.canvas&&(r.canvas.style.cursor=he(e))},367231:()=>{r.canvas&&(r.canvas.style.cursor="none")},367300:()=>window.innerWidth,367330:()=>window.innerHeight};function Q(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function K(e){for(;e.length>0;)e.shift()(r)}function J(e){return S.get(e)}function Z(e,t,n){return e.includes("j")?function(e,t,n){var o=r["dynCall_"+e];return n&&n.length?o.apply(null,[t].concat(n)):o.call(null,t)}(e,t,n):J(t).apply(null,n)}function ee(e,r,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":y[0|e]=r;break;case"i16":b[e>>1]=r;break;case"i32":k[e>>2]=r;break;case"i64":j=[r>>>0,(B=r,+Math.abs(B)>=1?B>0?+Math.floor(B/4294967296)>>>0:~~+Math.ceil((B-+(~~B>>>0))/4294967296)>>>0:0)],k[e>>2]=j[0],k[e+4>>2]=j[1];break;case"float":C[e>>2]=r;break;case"double":_[e>>3]=r;break;case"*":x[e>>2]=r;break;default:G(`invalid type for setValue: ${t}`)}}function re(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){x[this.ptr+4>>2]=e},this.get_type=function(){return x[this.ptr+4>>2]},this.set_destructor=function(e){x[this.ptr+8>>2]=e},this.get_destructor=function(){return x[this.ptr+8>>2]},this.set_caught=function(e){e=e?1:0,y[this.ptr+12|0]=e},this.get_caught=function(){return 0!=y[this.ptr+12|0]},this.set_rethrown=function(e){e=e?1:0,y[this.ptr+13|0]=e},this.get_rethrown=function(){return 0!=y[this.ptr+13|0]},this.init=function(e,r){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(r)},this.set_adjusted_ptr=function(e){x[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return x[this.ptr+16>>2]},this.get_exception_ptr=function(){if(Si(this.get_type()))return x[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}var te={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,r)=>{for(var t=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:e=>{var r=te.isAbs(e),t="/"===e.substr(-1);return(e=te.normalizeArray(e.split("/").filter((e=>!!e)),!r).join("/"))||r||(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=te.splitPath(e),t=r[0],n=r[1];return t||n?(n&&(n=n.substr(0,n.length-1)),t+n):"."},basename:e=>{if("/"===e)return"/";var r=(e=(e=te.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===r?e:e.substr(r+1)},join:function(){var e=Array.prototype.slice.call(arguments);return te.normalize(e.join("/"))},join2:(e,r)=>te.normalize(e+"/"+r)};function ne(e){return(ne=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);G("initRandomDevice")}())(e)}var oe={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:pe.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r=te.isAbs(n)}return(r?"/":"")+(e=te.normalizeArray(e.split("/").filter((e=>!!e)),!r).join("/"))||"."},relative:(e,r)=>{function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;t>=0&&""===e[t];t--);return r>t?[]:e.slice(r,t-r+1)}e=oe.resolve(e).substr(1),r=oe.resolve(r).substr(1);for(var n=t(e.split("/")),o=t(r.split("/")),a=Math.min(n.length,o.length),i=a,s=0;s<a;s++)if(n[s]!==o[s]){i=s;break}var u=[];for(s=i;s<n.length;s++)u.push("..");return(u=u.concat(o.slice(i))).join("/")}};function ae(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r}function ie(e,r,t,n){if(!(n>0))return 0;for(var o=t,a=t+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(t>=a)break;r[t++]=s}else if(s<=2047){if(t+1>=a)break;r[t++]=192|s>>6,r[t++]=128|63&s}else if(s<=65535){if(t+2>=a)break;r[t++]=224|s>>12,r[t++]=128|s>>6&63,r[t++]=128|63&s}else{if(t+3>=a)break;r[t++]=240|s>>18,r[t++]=128|s>>12&63,r[t++]=128|s>>6&63,r[t++]=128|63&s}}return r[t]=0,t-o}function se(e,r,t){var n=t>0?t:ae(e)+1,o=new Array(n),a=ie(e,o,0,o.length);return r&&(o.length=a),o}var ue="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function ce(e,r,t){for(var n=r+t,o=r;e[o]&&!(o>=n);)++o;if(o-r>16&&e.buffer&&ue)return ue.decode(e.subarray(r,o));for(var a="";r<o;){var i=e[r++];if(128&i){var s=63&e[r++];if(192!=(224&i)){var u=63&e[r++];if((i=224==(240&i)?(15&i)<<12|s<<6|u:(7&i)<<18|s<<12|u<<6|63&e[r++])<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&i)<<6|s)}else a+=String.fromCharCode(i)}return a}var le={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){le.ttys[e]={input:[],output:[],ops:r},pe.registerDevice(e,le.stream_ops)},stream_ops:{open:function(e){var r=le.ttys[e.node.rdev];if(!r)throw new pe.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.get_char)throw new pe.ErrnoError(60);for(var a=0,i=0;i<n;i++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new pe.ErrnoError(29)}if(void 0===s&&0===a)throw new pe.ErrnoError(6);if(null==s)break;a++,r[t+i]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.put_char)throw new pe.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,r[t+a])}catch(e){throw new pe.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n"),!r)return null;e.input=se(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(m(ce(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},fsync:function(e){e.output&&e.output.length>0&&(m(ce(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(v(ce(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},fsync:function(e){e.output&&e.output.length>0&&(v(ce(e.output,0)),e.output=[])}}};function fe(e){G()}var de={ops_table:null,mount:function(e){return de.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(pe.isBlkdev(t)||pe.isFIFO(t))throw new pe.ErrnoError(63);de.ops_table||(de.ops_table={dir:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr,lookup:de.node_ops.lookup,mknod:de.node_ops.mknod,rename:de.node_ops.rename,unlink:de.node_ops.unlink,rmdir:de.node_ops.rmdir,readdir:de.node_ops.readdir,symlink:de.node_ops.symlink},stream:{llseek:de.stream_ops.llseek}},file:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr},stream:{llseek:de.stream_ops.llseek,read:de.stream_ops.read,write:de.stream_ops.write,allocate:de.stream_ops.allocate,mmap:de.stream_ops.mmap,msync:de.stream_ops.msync}},link:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr,readlink:de.node_ops.readlink},stream:{}},chrdev:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr},stream:pe.chrdev_stream_ops}});var o=pe.createNode(e,r,t,n);return pe.isDir(o.mode)?(o.node_ops=de.ops_table.dir.node,o.stream_ops=de.ops_table.dir.stream,o.contents={}):pe.isFile(o.mode)?(o.node_ops=de.ops_table.file.node,o.stream_ops=de.ops_table.file.stream,o.usedBytes=0,o.contents=null):pe.isLink(o.mode)?(o.node_ops=de.ops_table.link.node,o.stream_ops=de.ops_table.link.stream):pe.isChrdev(o.mode)&&(o.node_ops=de.ops_table.chrdev.node,o.stream_ops=de.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[r]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){r=Math.max(r,t*(t<1048576?2:1.125)>>>0),0!=t&&(r=Math.max(r,256));var n=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r)if(0==r)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=pe.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,pe.isDir(e.mode)?r.size=4096:pe.isFile(e.mode)?r.size=e.usedBytes:pe.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&de.resizeFileStorage(e,r.size)},lookup:function(e,r){throw pe.genericErrors[44]},mknod:function(e,r,t,n){return de.createNode(e,r,t,n)},rename:function(e,r,t){if(pe.isDir(e.mode)){var n;try{n=pe.lookupNode(r,t)}catch(e){}if(n)for(var o in n.contents)throw new pe.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var t=pe.lookupNode(e,r);for(var n in t.contents)throw new pe.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,r,t){var n=de.createNode(e,r,41471,0);return n.link=t,n},readlink:function(e){if(!pe.isLink(e.mode))throw new pe.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-o,n);if(i>8&&a.subarray)r.set(a.subarray(o,o+i),t);else for(var s=0;s<i;s++)r[t+s]=a[o+s];return i},write:function(e,r,t,n,o,a){if(r.buffer===y.buffer&&(a=!1),!n)return 0;var i=e.node;if(i.timestamp=Date.now(),r.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=r.subarray(t,t+n),i.usedBytes=n,n;if(0===i.usedBytes&&0===o)return i.contents=r.slice(t,t+n),i.usedBytes=n,n;if(o+n<=i.usedBytes)return i.contents.set(r.subarray(t,t+n),o),n}if(de.expandFileStorage(i,o+n),i.contents.subarray&&r.subarray)i.contents.set(r.subarray(t,t+n),o);else for(var s=0;s<n;s++)i.contents[o+s]=r[t+s];return i.usedBytes=Math.max(i.usedBytes,o+n),n},llseek:function(e,r,t){var n=r;if(1===t?n+=e.position:2===t&&pe.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new pe.ErrnoError(28);return n},allocate:function(e,r,t){de.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,o){if(!pe.isFile(e.node.mode))throw new pe.ErrnoError(43);var a,i,s=e.node.contents;if(2&o||s.buffer!==y.buffer){if((t>0||t+r<s.length)&&(s=s.subarray?s.subarray(t,t+r):Array.prototype.slice.call(s,t,t+r)),i=!0,!(a=fe()))throw new pe.ErrnoError(48);y.set(s,a)}else i=!1,a=s.byteOffset;return{ptr:a,allocated:i}},msync:function(e,r,t,n,o){return de.stream_ops.write(e,r,0,n,t,!1),0}}},me=r.preloadPlugins||[];function ve(e,r){var t=0;return e&&(t|=365),r&&(t|=146),t}var pe={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,r={})=>{if(!(e=oe.resolve(e)))return{path:"",node:null};if((r=Object.assign({follow_mount:!0,recurse_count:0},r)).recurse_count>8)throw new pe.ErrnoError(32);for(var t=e.split("/").filter((e=>!!e)),n=pe.root,o="/",a=0;a<t.length;a++){var i=a===t.length-1;if(i&&r.parent)break;if(n=pe.lookupNode(n,t[a]),o=te.join2(o,t[a]),pe.isMountpoint(n)&&(!i||i&&r.follow_mount)&&(n=n.mounted.root),!i||r.follow)for(var s=0;pe.isLink(n.mode);){var u=pe.readlink(o);if(o=oe.resolve(te.dirname(o),u),n=pe.lookupPath(o,{recurse_count:r.recurse_count+1}).node,s++>40)throw new pe.ErrnoError(32)}}return{path:o,node:n}},getPath:e=>{for(var r;;){if(pe.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?`${t}/${r}`:t+r:t}r=r?`${e.name}/${r}`:e.name,e=e.parent}},hashName:(e,r)=>{for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%pe.nameTable.length},hashAddNode:e=>{var r=pe.hashName(e.parent.id,e.name);e.name_next=pe.nameTable[r],pe.nameTable[r]=e},hashRemoveNode:e=>{var r=pe.hashName(e.parent.id,e.name);if(pe.nameTable[r]===e)pe.nameTable[r]=e.name_next;else for(var t=pe.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:(e,r)=>{var t=pe.mayLookup(e);if(t)throw new pe.ErrnoError(t,e);for(var n=pe.hashName(e.id,r),o=pe.nameTable[n];o;o=o.name_next){var a=o.name;if(o.parent.id===e.id&&a===r)return o}return pe.lookup(e,r)},createNode:(e,r,t,n)=>{var o=new pe.FSNode(e,r,t,n);return pe.hashAddNode(o),o},destroyNode:e=>{pe.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768==(61440&e),isDir:e=>16384==(61440&e),isLink:e=>40960==(61440&e),isChrdev:e=>8192==(61440&e),isBlkdev:e=>24576==(61440&e),isFIFO:e=>4096==(61440&e),isSocket:e=>!(49152&~e),flagsToPermissionString:e=>{var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:(e,r)=>pe.ignorePermissions||(!r.includes("r")||292&e.mode)&&(!r.includes("w")||146&e.mode)&&(!r.includes("x")||73&e.mode)?0:2,mayLookup:e=>pe.nodePermissions(e,"x")||(e.node_ops.lookup?0:2),mayCreate:(e,r)=>{try{return pe.lookupNode(e,r),20}catch(e){}return pe.nodePermissions(e,"wx")},mayDelete:(e,r,t)=>{var n;try{n=pe.lookupNode(e,r)}catch(e){return e.errno}var o=pe.nodePermissions(e,"wx");if(o)return o;if(t){if(!pe.isDir(n.mode))return 54;if(pe.isRoot(n)||pe.getPath(n)===pe.cwd())return 10}else if(pe.isDir(n.mode))return 31;return 0},mayOpen:(e,r)=>e?pe.isLink(e.mode)?32:pe.isDir(e.mode)&&("r"!==pe.flagsToPermissionString(r)||512&r)?31:pe.nodePermissions(e,pe.flagsToPermissionString(r)):44,MAX_OPEN_FDS:4096,nextfd:()=>{for(var e=0;e<=pe.MAX_OPEN_FDS;e++)if(!pe.streams[e])return e;throw new pe.ErrnoError(33)},getStream:e=>pe.streams[e],createStream:(e,r=-1)=>(pe.FSStream||(pe.FSStream=function(){this.shared={}},pe.FSStream.prototype={},Object.defineProperties(pe.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return!!(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new pe.FSStream,e),-1==r&&(r=pe.nextfd()),e.fd=r,pe.streams[r]=e,e),closeStream:e=>{pe.streams[e]=null},chrdev_stream_ops:{open:e=>{var r=pe.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new pe.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,r)=>e<<8|r,registerDevice:(e,r)=>{pe.devices[e]={stream_ops:r}},getDevice:e=>pe.devices[e],getMounts:e=>{for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:(e,r)=>{"function"==typeof e&&(r=e,e=!1),pe.syncFSRequests++,pe.syncFSRequests>1&&v(`warning: ${pe.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var t=pe.getMounts(pe.root.mount),n=0;function o(e){return pe.syncFSRequests--,r(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,o(e));++n>=t.length&&o(null)}t.forEach((r=>{if(!r.type.syncfs)return a(null);r.type.syncfs(r,e,a)}))},mount:(e,r,t)=>{var n,o="/"===t,a=!t;if(o&&pe.root)throw new pe.ErrnoError(10);if(!o&&!a){var i=pe.lookupPath(t,{follow_mount:!1});if(t=i.path,n=i.node,pe.isMountpoint(n))throw new pe.ErrnoError(10);if(!pe.isDir(n.mode))throw new pe.ErrnoError(54)}var s={type:e,opts:r,mountpoint:t,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,o?pe.root=u:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),u},unmount:e=>{var r=pe.lookupPath(e,{follow_mount:!1});if(!pe.isMountpoint(r.node))throw new pe.ErrnoError(28);var t=r.node,n=t.mounted,o=pe.getMounts(n);Object.keys(pe.nameTable).forEach((e=>{for(var r=pe.nameTable[e];r;){var t=r.name_next;o.includes(r.mount)&&pe.destroyNode(r),r=t}})),t.mounted=null;var a=t.mount.mounts.indexOf(n);t.mount.mounts.splice(a,1)},lookup:(e,r)=>e.node_ops.lookup(e,r),mknod:(e,r,t)=>{var n=pe.lookupPath(e,{parent:!0}).node,o=te.basename(e);if(!o||"."===o||".."===o)throw new pe.ErrnoError(28);var a=pe.mayCreate(n,o);if(a)throw new pe.ErrnoError(a);if(!n.node_ops.mknod)throw new pe.ErrnoError(63);return n.node_ops.mknod(n,o,r,t)},create:(e,r)=>(r=void 0!==r?r:438,r&=4095,r|=32768,pe.mknod(e,r,0)),mkdir:(e,r)=>(r=void 0!==r?r:511,r&=1023,r|=16384,pe.mknod(e,r,0)),mkdirTree:(e,r)=>{for(var t=e.split("/"),n="",o=0;o<t.length;++o)if(t[o]){n+="/"+t[o];try{pe.mkdir(n,r)}catch(e){if(20!=e.errno)throw e}}},mkdev:(e,r,t)=>(void 0===t&&(t=r,r=438),r|=8192,pe.mknod(e,r,t)),symlink:(e,r)=>{if(!oe.resolve(e))throw new pe.ErrnoError(44);var t=pe.lookupPath(r,{parent:!0}).node;if(!t)throw new pe.ErrnoError(44);var n=te.basename(r),o=pe.mayCreate(t,n);if(o)throw new pe.ErrnoError(o);if(!t.node_ops.symlink)throw new pe.ErrnoError(63);return t.node_ops.symlink(t,n,e)},rename:(e,r)=>{var t,n,o=te.dirname(e),a=te.dirname(r),i=te.basename(e),s=te.basename(r);if(t=pe.lookupPath(e,{parent:!0}).node,n=pe.lookupPath(r,{parent:!0}).node,!t||!n)throw new pe.ErrnoError(44);if(t.mount!==n.mount)throw new pe.ErrnoError(75);var u,c=pe.lookupNode(t,i),l=oe.relative(e,a);if("."!==l.charAt(0))throw new pe.ErrnoError(28);if("."!==(l=oe.relative(r,o)).charAt(0))throw new pe.ErrnoError(55);try{u=pe.lookupNode(n,s)}catch(e){}if(c!==u){var f=pe.isDir(c.mode),d=pe.mayDelete(t,i,f);if(d)throw new pe.ErrnoError(d);if(d=u?pe.mayDelete(n,s,f):pe.mayCreate(n,s))throw new pe.ErrnoError(d);if(!t.node_ops.rename)throw new pe.ErrnoError(63);if(pe.isMountpoint(c)||u&&pe.isMountpoint(u))throw new pe.ErrnoError(10);if(n!==t&&(d=pe.nodePermissions(t,"w")))throw new pe.ErrnoError(d);pe.hashRemoveNode(c);try{t.node_ops.rename(c,n,s)}catch(e){throw e}finally{pe.hashAddNode(c)}}},rmdir:e=>{var r=pe.lookupPath(e,{parent:!0}).node,t=te.basename(e),n=pe.lookupNode(r,t),o=pe.mayDelete(r,t,!0);if(o)throw new pe.ErrnoError(o);if(!r.node_ops.rmdir)throw new pe.ErrnoError(63);if(pe.isMountpoint(n))throw new pe.ErrnoError(10);r.node_ops.rmdir(r,t),pe.destroyNode(n)},readdir:e=>{var r=pe.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new pe.ErrnoError(54);return r.node_ops.readdir(r)},unlink:e=>{var r=pe.lookupPath(e,{parent:!0}).node;if(!r)throw new pe.ErrnoError(44);var t=te.basename(e),n=pe.lookupNode(r,t),o=pe.mayDelete(r,t,!1);if(o)throw new pe.ErrnoError(o);if(!r.node_ops.unlink)throw new pe.ErrnoError(63);if(pe.isMountpoint(n))throw new pe.ErrnoError(10);r.node_ops.unlink(r,t),pe.destroyNode(n)},readlink:e=>{var r=pe.lookupPath(e).node;if(!r)throw new pe.ErrnoError(44);if(!r.node_ops.readlink)throw new pe.ErrnoError(28);return oe.resolve(pe.getPath(r.parent),r.node_ops.readlink(r))},stat:(e,r)=>{var t=pe.lookupPath(e,{follow:!r}).node;if(!t)throw new pe.ErrnoError(44);if(!t.node_ops.getattr)throw new pe.ErrnoError(63);return t.node_ops.getattr(t)},lstat:e=>pe.stat(e,!0),chmod:(e,r,t)=>{var n;if(!(n="string"==typeof e?pe.lookupPath(e,{follow:!t}).node:e).node_ops.setattr)throw new pe.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&r|-4096&n.mode,timestamp:Date.now()})},lchmod:(e,r)=>{pe.chmod(e,r,!0)},fchmod:(e,r)=>{var t=pe.getStream(e);if(!t)throw new pe.ErrnoError(8);pe.chmod(t.node,r)},chown:(e,r,t,n)=>{var o;if(!(o="string"==typeof e?pe.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new pe.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:(e,r,t)=>{pe.chown(e,r,t,!0)},fchown:(e,r,t)=>{var n=pe.getStream(e);if(!n)throw new pe.ErrnoError(8);pe.chown(n.node,r,t)},truncate:(e,r)=>{if(r<0)throw new pe.ErrnoError(28);var t;if(!(t="string"==typeof e?pe.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new pe.ErrnoError(63);if(pe.isDir(t.mode))throw new pe.ErrnoError(31);if(!pe.isFile(t.mode))throw new pe.ErrnoError(28);var n=pe.nodePermissions(t,"w");if(n)throw new pe.ErrnoError(n);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:(e,r)=>{var t=pe.getStream(e);if(!t)throw new pe.ErrnoError(8);if(!(2097155&t.flags))throw new pe.ErrnoError(28);pe.truncate(t.node,r)},utime:(e,r,t)=>{var n=pe.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(r,t)})},open:(e,t,n)=>{if(""===e)throw new pe.ErrnoError(44);var o;if(n=void 0===n?438:n,n=64&(t="string"==typeof t?function(e){var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===r)throw new Error(`Unknown file open mode: ${e}`);return r}(t):t)?4095&n|32768:0,"object"==typeof e)o=e;else{e=te.normalize(e);try{o=pe.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var a=!1;if(64&t)if(o){if(128&t)throw new pe.ErrnoError(20)}else o=pe.mknod(e,n,0),a=!0;if(!o)throw new pe.ErrnoError(44);if(pe.isChrdev(o.mode)&&(t&=-513),65536&t&&!pe.isDir(o.mode))throw new pe.ErrnoError(54);if(!a){var i=pe.mayOpen(o,t);if(i)throw new pe.ErrnoError(i)}512&t&&!a&&pe.truncate(o,0),t&=-131713;var s=pe.createStream({node:o,path:pe.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),!r.logReadFiles||1&t||(pe.readFiles||(pe.readFiles={}),e in pe.readFiles||(pe.readFiles[e]=1)),s},close:e=>{if(pe.isClosed(e))throw new pe.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{pe.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek:(e,r,t)=>{if(pe.isClosed(e))throw new pe.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new pe.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new pe.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:(e,r,t,n,o)=>{if(n<0||o<0)throw new pe.ErrnoError(28);if(pe.isClosed(e))throw new pe.ErrnoError(8);if(1==(2097155&e.flags))throw new pe.ErrnoError(8);if(pe.isDir(e.node.mode))throw new pe.ErrnoError(31);if(!e.stream_ops.read)throw new pe.ErrnoError(28);var a=void 0!==o;if(a){if(!e.seekable)throw new pe.ErrnoError(70)}else o=e.position;var i=e.stream_ops.read(e,r,t,n,o);return a||(e.position+=i),i},write:(e,r,t,n,o,a)=>{if(n<0||o<0)throw new pe.ErrnoError(28);if(pe.isClosed(e))throw new pe.ErrnoError(8);if(!(2097155&e.flags))throw new pe.ErrnoError(8);if(pe.isDir(e.node.mode))throw new pe.ErrnoError(31);if(!e.stream_ops.write)throw new pe.ErrnoError(28);e.seekable&&1024&e.flags&&pe.llseek(e,0,2);var i=void 0!==o;if(i){if(!e.seekable)throw new pe.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,r,t,n,o,a);return i||(e.position+=s),s},allocate:(e,r,t)=>{if(pe.isClosed(e))throw new pe.ErrnoError(8);if(r<0||t<=0)throw new pe.ErrnoError(28);if(!(2097155&e.flags))throw new pe.ErrnoError(8);if(!pe.isFile(e.node.mode)&&!pe.isDir(e.node.mode))throw new pe.ErrnoError(43);if(!e.stream_ops.allocate)throw new pe.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:(e,r,t,n,o)=>{if(2&n&&!(2&o)&&2!=(2097155&e.flags))throw new pe.ErrnoError(2);if(1==(2097155&e.flags))throw new pe.ErrnoError(2);if(!e.stream_ops.mmap)throw new pe.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,o)},msync:(e,r,t,n,o)=>e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,o):0,munmap:e=>0,ioctl:(e,r,t)=>{if(!e.stream_ops.ioctl)throw new pe.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:(e,r={})=>{if(r.flags=r.flags||0,r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error(`Invalid encoding type "${r.encoding}"`);var t,n=pe.open(e,r.flags),o=pe.stat(e).size,a=new Uint8Array(o);return pe.read(n,a,0,o,0),"utf8"===r.encoding?t=ce(a,0):"binary"===r.encoding&&(t=a),pe.close(n),t},writeFile:(e,r,t={})=>{t.flags=t.flags||577;var n=pe.open(e,t.flags,t.mode);if("string"==typeof r){var o=new Uint8Array(ae(r)+1),a=ie(r,o,0,o.length);pe.write(n,o,0,a,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");pe.write(n,r,0,r.byteLength,void 0,t.canOwn)}pe.close(n)},cwd:()=>pe.currentPath,chdir:e=>{var r=pe.lookupPath(e,{follow:!0});if(null===r.node)throw new pe.ErrnoError(44);if(!pe.isDir(r.node.mode))throw new pe.ErrnoError(54);var t=pe.nodePermissions(r.node,"x");if(t)throw new pe.ErrnoError(t);pe.currentPath=r.path},createDefaultDirectories:()=>{pe.mkdir("/tmp"),pe.mkdir("/home"),pe.mkdir("/home/web_user")},createDefaultDevices:()=>{pe.mkdir("/dev"),pe.registerDevice(pe.makedev(1,3),{read:()=>0,write:(e,r,t,n,o)=>n}),pe.mkdev("/dev/null",pe.makedev(1,3)),le.register(pe.makedev(5,0),le.default_tty_ops),le.register(pe.makedev(6,0),le.default_tty1_ops),pe.mkdev("/dev/tty",pe.makedev(5,0)),pe.mkdev("/dev/tty1",pe.makedev(6,0));var e=new Uint8Array(1024),r=0,t=()=>(0===r&&(r=ne(e).byteLength),e[--r]);pe.createDevice("/dev","random",t),pe.createDevice("/dev","urandom",t),pe.mkdir("/dev/shm"),pe.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{pe.mkdir("/proc");var e=pe.mkdir("/proc/self");pe.mkdir("/proc/self/fd"),pe.mount({mount:()=>{var r=pe.createNode(e,"fd",16895,73);return r.node_ops={lookup:(e,r)=>{var t=+r,n=pe.getStream(t);if(!n)throw new pe.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>n.path}};return o.parent=o,o}},r}},{},"/proc/self/fd")},createStandardStreams:()=>{r.stdin?pe.createDevice("/dev","stdin",r.stdin):pe.symlink("/dev/tty","/dev/stdin"),r.stdout?pe.createDevice("/dev","stdout",null,r.stdout):pe.symlink("/dev/tty","/dev/stdout"),r.stderr?pe.createDevice("/dev","stderr",null,r.stderr):pe.symlink("/dev/tty1","/dev/stderr"),pe.open("/dev/stdin",0),pe.open("/dev/stdout",1),pe.open("/dev/stderr",1)},ensureErrnoError:()=>{pe.ErrnoError||(pe.ErrnoError=function(e,r){this.name="ErrnoError",this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},pe.ErrnoError.prototype=new Error,pe.ErrnoError.prototype.constructor=pe.ErrnoError,[44].forEach((e=>{pe.genericErrors[e]=new pe.ErrnoError(e),pe.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:()=>{pe.ensureErrnoError(),pe.nameTable=new Array(4096),pe.mount(de,{},"/"),pe.createDefaultDirectories(),pe.createDefaultDevices(),pe.createSpecialDirectories(),pe.filesystems={MEMFS:de}},init:(e,t,n)=>{pe.init.initialized=!0,pe.ensureErrnoError(),r.stdin=e||r.stdin,r.stdout=t||r.stdout,r.stderr=n||r.stderr,pe.createStandardStreams()},quit:()=>{pe.init.initialized=!1;for(var e=0;e<pe.streams.length;e++){var r=pe.streams[e];r&&pe.close(r)}},findObject:(e,r)=>{var t=pe.analyzePath(e,r);return t.exists?t.object:null},analyzePath:(e,r)=>{try{e=(n=pe.lookupPath(e,{follow:!r})).path}catch(e){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=pe.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=te.basename(e),n=pe.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(e){t.error=e.errno}return t},createPath:(e,r,t,n)=>{e="string"==typeof e?e:pe.getPath(e);for(var o=r.split("/").reverse();o.length;){var a=o.pop();if(a){var i=te.join2(e,a);try{pe.mkdir(i)}catch(e){}e=i}}return i},createFile:(e,r,t,n,o)=>{var a=te.join2("string"==typeof e?e:pe.getPath(e),r),i=ve(n,o);return pe.create(a,i)},createDataFile:(e,r,t,n,o,a)=>{var i=r;e&&(e="string"==typeof e?e:pe.getPath(e),i=r?te.join2(e,r):e);var s=ve(n,o),u=pe.create(i,s);if(t){if("string"==typeof t){for(var c=new Array(t.length),l=0,f=t.length;l<f;++l)c[l]=t.charCodeAt(l);t=c}pe.chmod(u,146|s);var d=pe.open(u,577);pe.write(d,t,0,t.length,0,a),pe.close(d),pe.chmod(u,s)}return u},createDevice:(e,r,t,n)=>{var o=te.join2("string"==typeof e?e:pe.getPath(e),r),a=ve(!!t,!!n);pe.createDevice.major||(pe.createDevice.major=64);var i=pe.makedev(pe.createDevice.major++,0);return pe.registerDevice(i,{open:e=>{e.seekable=!1},close:e=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(e,r,n,o,a)=>{for(var i=0,s=0;s<o;s++){var u;try{u=t()}catch(e){throw new pe.ErrnoError(29)}if(void 0===u&&0===i)throw new pe.ErrnoError(6);if(null==u)break;i++,r[n+s]=u}return i&&(e.node.timestamp=Date.now()),i},write:(e,r,t,o,a)=>{for(var i=0;i<o;i++)try{n(r[t+i])}catch(e){throw new pe.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),i}}),pe.mkdev(o,a,i)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!o)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=se(o(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new pe.ErrnoError(29)}},createLazyFile:(e,r,t,n,o)=>{function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,t=e/this.chunkSize|0;return this.getter(t)[r]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",t,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+t+". Status: "+e.status);var r,n=Number(e.getResponseHeader("Content-length")),o=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,a=(r=e.getResponseHeader("Content-Encoding"))&&"gzip"===r,i=1048576;o||(i=n);var s=this;s.setDataGetter((e=>{var r=e*i,o=(e+1)*i-1;if(o=Math.min(o,n-1),void 0===s.chunks[e]&&(s.chunks[e]=((e,r)=>{if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>n-1)throw new Error("only "+n+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",t,!1),n!==i&&o.setRequestHeader("Range","bytes="+e+"-"+r),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+t+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):se(o.responseText||"",!0)})(r,o)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!a&&n||(i=n=1,n=this.getter(0).length,i=n,m("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=i,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var i={isDevice:!1,url:t},s=pe.createFile(e,r,i,n,o);i.contents?s.contents=i.contents:i.url&&(s.contents=null,s.url=i.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var u={};function c(e,r,t,n,o){var a=e.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,n);if(a.slice)for(var s=0;s<i;s++)r[t+s]=a[o+s];else for(s=0;s<i;s++)r[t+s]=a.get(o+s);return i}return Object.keys(s.stream_ops).forEach((e=>{var r=s.stream_ops[e];u[e]=function(){return pe.forceLoadFile(s),r.apply(null,arguments)}})),u.read=(e,r,t,n,o)=>(pe.forceLoadFile(s),c(e,r,t,n,o)),u.mmap=(e,r,t,n,o)=>{pe.forceLoadFile(s);var a=fe();if(!a)throw new pe.ErrnoError(48);return c(e,y,a,r,t),{ptr:a,allocated:!0}},s.stream_ops=u,s}};function he(e,r){return e?ce(w,e,r):""}var ge={DEFAULT_POLLMASK:5,calculateAt:function(e,r,t){if(te.isAbs(r))return r;var n;if(n=-100===e?pe.cwd():ge.getStreamFromFD(e).path,0==r.length){if(!t)throw new pe.ErrnoError(44);return n}return te.join2(n,r)},doStat:function(e,r,t){try{var n=e(r)}catch(e){if(e&&e.node&&te.normalize(r)!==te.normalize(pe.getPath(e.node)))return-54;throw e}k[t>>2]=n.dev,k[t+8>>2]=n.ino,k[t+12>>2]=n.mode,x[t+16>>2]=n.nlink,k[t+20>>2]=n.uid,k[t+24>>2]=n.gid,k[t+28>>2]=n.rdev,j=[n.size>>>0,(B=n.size,+Math.abs(B)>=1?B>0?+Math.floor(B/4294967296)>>>0:~~+Math.ceil((B-+(~~B>>>0))/4294967296)>>>0:0)],k[t+40>>2]=j[0],k[t+44>>2]=j[1],k[t+48>>2]=4096,k[t+52>>2]=n.blocks;var o=n.atime.getTime(),a=n.mtime.getTime(),i=n.ctime.getTime();return j=[Math.floor(o/1e3)>>>0,(B=Math.floor(o/1e3),+Math.abs(B)>=1?B>0?+Math.floor(B/4294967296)>>>0:~~+Math.ceil((B-+(~~B>>>0))/4294967296)>>>0:0)],k[t+56>>2]=j[0],k[t+60>>2]=j[1],x[t+64>>2]=o%1e3*1e3,j=[Math.floor(a/1e3)>>>0,(B=Math.floor(a/1e3),+Math.abs(B)>=1?B>0?+Math.floor(B/4294967296)>>>0:~~+Math.ceil((B-+(~~B>>>0))/4294967296)>>>0:0)],k[t+72>>2]=j[0],k[t+76>>2]=j[1],x[t+80>>2]=a%1e3*1e3,j=[Math.floor(i/1e3)>>>0,(B=Math.floor(i/1e3),+Math.abs(B)>=1?B>0?+Math.floor(B/4294967296)>>>0:~~+Math.ceil((B-+(~~B>>>0))/4294967296)>>>0:0)],k[t+88>>2]=j[0],k[t+92>>2]=j[1],x[t+96>>2]=i%1e3*1e3,j=[n.ino>>>0,(B=n.ino,+Math.abs(B)>=1?B>0?+Math.floor(B/4294967296)>>>0:~~+Math.ceil((B-+(~~B>>>0))/4294967296)>>>0:0)],k[t+104>>2]=j[0],k[t+108>>2]=j[1],0},doMsync:function(e,r,t,n,o){if(!pe.isFile(r.node.mode))throw new pe.ErrnoError(43);if(2&n)return 0;var a=w.slice(e,e+t);pe.msync(r,a,o,t,n)},varargs:void 0,get:function(){return ge.varargs+=4,k[ge.varargs-4>>2]},getStr:function(e){return he(e)},getStreamFromFD:function(e){var r=pe.getStream(e);if(!r)throw new pe.ErrnoError(8);return r}};function ye(e){if(void 0===e)return"_unknown";var r=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return r>=48&&r<=57?`_${e}`:e}function we(e,r){return e=ye(e),{[e]:function(){return r.apply(this,arguments)}}[e]}function be(){this.allocated=[void 0],this.freelist=[],this.get=function(e){return this.allocated[e]},this.has=function(e){return void 0!==this.allocated[e]},this.allocate=function(e){var r=this.freelist.pop()||this.allocated.length;return this.allocated[r]=e,r},this.free=function(e){this.allocated[e]=void 0,this.freelist.push(e)}}var Ee=new be;function ke(e,r){var t=we(r,(function(e){this.name=r,this.message=e;var t=new Error(e).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},t}var xe=void 0;function Ce(e){throw new xe(e)}var _e=e=>(e||Ce("Cannot use deleted val. handle = "+e),Ee.get(e).value),Se=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ee.allocate({refcount:1,value:e})}},Pe=void 0,Fe=void 0;function De(e){for(var r="",t=e;w[t];)r+=Fe[w[t++]];return r}var Le=[];function Te(){for(;Le.length;){var e=Le.pop();e.$$.deleteScheduled=!1,e.delete()}}var Ae=void 0;var Me={};function $e(e,r){for(void 0===r&&Ce("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r}var Re={};function Ie(e){var r=Ei(e),t=De(r);return yi(r),t}function Oe(e,r){var t=Re[e];return void 0===t&&Ce(r+" has unknown type "+Ie(e)),t}function Be(e){}var je=!1;function Ne(e){e.count.value-=1,0===e.count.value&&function(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}(e)}function ze(e,r,t){if(r===t)return e;if(void 0===t.baseClass)return null;var n=ze(e,r,t.baseClass);return null===n?null:t.downcast(n)}var Ue={},qe=void 0;function He(e){throw new qe(e)}function Ge(e,r){return r.ptrType&&r.ptr||He("makeClassHandle requires ptr and ptrType"),!!r.smartPtrType!=!!r.smartPtr&&He("Both smartPtrType and smartPtr must be specified"),r.count={value:1},We(Object.create(e,{$$:{value:r}}))}function We(e){return"undefined"==typeof FinalizationRegistry?(We=e=>e,e):(je=new FinalizationRegistry((e=>{Ne(e.$$)})),We=e=>{var r=e.$$;if(r.smartPtr){var t={$$:r};je.register(e,t,e)}return e},Be=e=>je.unregister(e),We(e))}function Ye(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}var Ve={},Xe={};function Qe(e,r,t){function n(r){var n=t(r);n.length!==e.length&&He("Mismatched type converter count");for(var o=0;o<e.length;++o)Ke(e[o],n[o])}e.forEach((function(e){Xe[e]=r}));var o=new Array(r.length),a=[],i=0;r.forEach(((e,r)=>{Re.hasOwnProperty(e)?o[r]=Re[e]:(a.push(e),Ve.hasOwnProperty(e)||(Ve[e]=[]),Ve[e].push((()=>{o[r]=Re[e],++i===a.length&&n(o)})))})),0===a.length&&n(o)}function Ke(e,r,t={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=r.name;if(e||Ce(`type "${n}" must have a positive integer typeid pointer`),Re.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;Ce(`Cannot register type '${n}' twice`)}if(Re[e]=r,delete Xe[e],Ve.hasOwnProperty(e)){var o=Ve[e];delete Ve[e],o.forEach((e=>e()))}}function Je(e){Ce(e.$$.ptrType.registeredClass.name+" instance already deleted")}function Ze(){}function er(e,r,t){if(void 0===e[r].overloadTable){var n=e[r];e[r]=function(){return e[r].overloadTable.hasOwnProperty(arguments.length)||Ce(`Function '${t}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[r].overloadTable})!`),e[r].overloadTable[arguments.length].apply(this,arguments)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}}function rr(e,t,n){r.hasOwnProperty(e)?((void 0===n||void 0!==r[e].overloadTable&&void 0!==r[e].overloadTable[n])&&Ce(`Cannot register public name '${e}' twice`),er(r,e,e),r.hasOwnProperty(n)&&Ce(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),r[e].overloadTable[n]=t):(r[e]=t,void 0!==n&&(r[e].numArguments=n))}function tr(e,r,t,n,o,a,i,s){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=o,this.getActualType=a,this.upcast=i,this.downcast=s,this.pureVirtualFunctions=[]}function nr(e,r,t){for(;r!==t;)r.upcast||Ce(`Expected null or instance of ${t.name}, got an instance of ${r.name}`),e=r.upcast(e),r=r.baseClass;return e}function or(e,r){if(null===r)return this.isReference&&Ce(`null is not a valid ${this.name}`),0;r.$$||Ce(`Cannot pass "${wr(r)}" as a ${this.name}`),r.$$.ptr||Ce(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=r.$$.ptrType.registeredClass;return nr(r.$$.ptr,t,this.registeredClass)}function ar(e,r){var t;if(null===r)return this.isReference&&Ce(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,t),t):0;r.$$||Ce(`Cannot pass "${wr(r)}" as a ${this.name}`),r.$$.ptr||Ce(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&Ce(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var n=r.$$.ptrType.registeredClass;if(t=nr(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===r.$$.smartPtr&&Ce("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:Ce(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var o=r.clone();t=this.rawShare(t,Se((function(){o.delete()}))),null!==e&&e.push(this.rawDestructor,t)}break;default:Ce("Unsupporting sharing policy")}return t}function ir(e,r){if(null===r)return this.isReference&&Ce(`null is not a valid ${this.name}`),0;r.$$||Ce(`Cannot pass "${wr(r)}" as a ${this.name}`),r.$$.ptr||Ce(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&Ce(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var t=r.$$.ptrType.registeredClass;return nr(r.$$.ptr,t,this.registeredClass)}function sr(e){return this.fromWireType(k[e>>2])}function ur(e,r,t,n,o,a,i,s,u,c,l){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=o,this.pointeeType=a,this.sharingPolicy=i,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,o||void 0!==r.baseClass?this.toWireType=ar:n?(this.toWireType=or,this.destructorFunction=null):(this.toWireType=ir,this.destructorFunction=null)}function cr(e,t,n){r.hasOwnProperty(e)||He("Replacing nonexistant public symbol"),void 0!==r[e].overloadTable&&void 0!==n?r[e].overloadTable[n]=t:(r[e]=t,r[e].argCount=n)}function lr(e,r){var t,n,o,a=(e=De(e)).includes("j")?(t=e,n=r,o=[],function(){return o.length=0,Object.assign(o,arguments),Z(t,n,o)}):J(r);return"function"!=typeof a&&Ce(`unknown function pointer with signature ${e}: ${r}`),a}var fr=void 0;function dr(e,r){var t=[],n={};throw r.forEach((function e(r){n[r]||Re[r]||(Xe[r]?Xe[r].forEach(e):(t.push(r),n[r]=!0))})),new fr(`${e}: `+t.map(Ie).join([", "]))}function mr(e){for(;e.length;){var r=e.pop();e.pop()(r)}}function vr(e,r,t,n,o,a){var i=r.length;i<2&&Ce("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=null!==r[1]&&null!==t,u=!1,c=1;c<r.length;++c)if(null!==r[c]&&void 0===r[c].destructorFunction){u=!0;break}var l="void"!==r[0].name,f=i-2,d=new Array(f),m=[],v=[];return function(){var t;arguments.length!==f&&Ce(`function ${e} called with ${arguments.length} arguments, expected ${f} args!`),v.length=0,m.length=s?2:1,m[0]=o,s&&(t=r[1].toWireType(v,this),m[1]=t);for(var a=0;a<f;++a)d[a]=r[a+2].toWireType(v,arguments[a]),m.push(d[a]);return function(e){if(u)mr(v);else for(var n=s?1:2;n<r.length;n++){var o=1===n?t:d[n-2];null!==r[n].destructorFunction&&r[n].destructorFunction(o)}if(l)return r[0].fromWireType(e)}(n.apply(null,m))}}function pr(e,r){for(var t=[],n=0;n<e;n++)t.push(x[r+4*n>>2]);return t}function hr(e,r,t){return e instanceof Object||Ce(`${t} with invalid "this": ${e}`),e instanceof r.registeredClass.constructor||Ce(`${t} incompatible with "this" of type ${e.constructor.name}`),e.$$.ptr||Ce(`cannot call emscripten binding method ${t} on deleted object`),nr(e.$$.ptr,e.$$.ptrType.registeredClass,r.registeredClass)}function gr(e){e>=Ee.reserved&&0==--Ee.get(e).refcount&&Ee.free(e)}function yr(e,r,t){switch(r){case 0:return function(e){var r=t?y:w;return this.fromWireType(r[e])};case 1:return function(e){var r=t?b:E;return this.fromWireType(r[e>>1])};case 2:return function(e){var r=t?k:x;return this.fromWireType(r[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function wr(e){if(null===e)return"null";var r=typeof e;return"object"===r||"array"===r||"function"===r?e.toString():""+e}function br(e,r){switch(r){case 2:return function(e){return this.fromWireType(C[e>>2])};case 3:return function(e){return this.fromWireType(_[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Er(e,r,t){switch(r){case 0:return t?function(e){return y[e]}:function(e){return w[e]};case 1:return t?function(e){return b[e>>1]}:function(e){return E[e>>1]};case 2:return t?function(e){return k[e>>2]}:function(e){return x[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function kr(e,r,t){return ie(e,w,r,t)}var xr="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function Cr(e,r){for(var t=e,n=t>>1,o=n+r/2;!(n>=o)&&E[n];)++n;if((t=n<<1)-e>32&&xr)return xr.decode(w.subarray(e,t));for(var a="",i=0;!(i>=r/2);++i){var s=b[e+2*i>>1];if(0==s)break;a+=String.fromCharCode(s)}return a}function _r(e,r,t){if(void 0===t&&(t=2147483647),t<2)return 0;for(var n=r,o=(t-=2)<2*e.length?t/2:e.length,a=0;a<o;++a){var i=e.charCodeAt(a);b[r>>1]=i,r+=2}return b[r>>1]=0,r-n}function Sr(e){return 2*e.length}function Pr(e,r){for(var t=0,n="";!(t>=r/4);){var o=k[e+4*t>>2];if(0==o)break;if(++t,o>=65536){var a=o-65536;n+=String.fromCharCode(55296|a>>10,56320|1023&a)}else n+=String.fromCharCode(o)}return n}function Fr(e,r,t){if(void 0===t&&(t=2147483647),t<4)return 0;for(var n=r,o=n+t-4,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),k[r>>2]=i,(r+=4)+4>o)break}return k[r>>2]=0,r-n}function Dr(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r}var Lr={};function Tr(e){var r=Lr[e];return void 0===r?De(e):r}var Ar=[],Mr=[];function $r(e){return e%4==0&&(e%100!=0||e%400==0)}var Rr,Ir=[0,31,60,91,121,152,182,213,244,274,305,335],Or=[0,31,59,90,120,151,181,212,243,273,304,334];function Br(e){var r=ae(e)+1,t=gi(r);return t&&kr(e,t,r),t}function jr(e,r){if(Wr.mainLoop.timingMode=e,Wr.mainLoop.timingValue=r,!Wr.mainLoop.func)return 1;if(Wr.mainLoop.running||(Wr.mainLoop.running=!0),0==e)Wr.mainLoop.scheduler=function(){var e=0|Math.max(0,Wr.mainLoop.tickStartTime+r-Rr());setTimeout(Wr.mainLoop.runner,e)},Wr.mainLoop.method="timeout";else if(1==e)Wr.mainLoop.scheduler=function(){Wr.requestAnimationFrame(Wr.mainLoop.runner)},Wr.mainLoop.method="rAF";else if(2==e){if("undefined"==typeof setImmediate){var t=[],n="setimmediate";addEventListener("message",(e=>{e.data!==n&&e.data.target!==n||(e.stopPropagation(),t.shift()())}),!0),setImmediate=function(e){t.push(e),postMessage(n,"*")}}Wr.mainLoop.scheduler=function(){setImmediate(Wr.mainLoop.runner)},Wr.mainLoop.method="immediate"}return 0}function Nr(e,r,t,n,o){F(!Wr.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Wr.mainLoop.func=e,Wr.mainLoop.arg=n;var a=Wr.mainLoop.currentlyRunningMainloop;function i(){return!(a<Wr.mainLoop.currentlyRunningMainloop)}if(Wr.mainLoop.running=!1,Wr.mainLoop.runner=function(){if(!P)if(Wr.mainLoop.queue.length>0){var r=Date.now(),t=Wr.mainLoop.queue.shift();if(t.func(t.arg),Wr.mainLoop.remainingBlockers){var n=Wr.mainLoop.remainingBlockers,o=n%1==0?n-1:Math.floor(n);t.counted?Wr.mainLoop.remainingBlockers=o:(o+=.5,Wr.mainLoop.remainingBlockers=(8*n+o)/9)}if(m('main loop blocker "'+t.name+'" took '+(Date.now()-r)+" ms"),Wr.mainLoop.updateStatus(),!i())return;setTimeout(Wr.mainLoop.runner,0)}else i()&&(Wr.mainLoop.currentFrameNumber=Wr.mainLoop.currentFrameNumber+1|0,1==Wr.mainLoop.timingMode&&Wr.mainLoop.timingValue>1&&Wr.mainLoop.currentFrameNumber%Wr.mainLoop.timingValue!=0?Wr.mainLoop.scheduler():(0==Wr.mainLoop.timingMode&&(Wr.mainLoop.tickStartTime=Rr()),Wr.mainLoop.runIter(e),i()&&("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Wr.mainLoop.scheduler())))},o||(r&&r>0?jr(0,1e3/r):jr(1,1),Wr.mainLoop.scheduler()),t)throw"unwind"}function zr(e){if(e instanceof Q||"unwind"==e)return g;l(1,e)}function Ur(e,t){var n;g=e,g=n=e,R()||(r.onExit&&r.onExit(n),P=!0),l(n,new Q(n))}Rr=()=>performance.now();var qr=Ur;function Hr(e){if(!P)try{e(),function(){if(!R())try{qr(g)}catch(e){zr(e)}}()}catch(e){zr(e)}}function Gr(e,r){return setTimeout((()=>{Hr(e)}),r)}var Wr={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Wr.mainLoop.scheduler=null,Wr.mainLoop.currentlyRunningMainloop++},resume:function(){Wr.mainLoop.currentlyRunningMainloop++;var e=Wr.mainLoop.timingMode,r=Wr.mainLoop.timingValue,t=Wr.mainLoop.func;Wr.mainLoop.func=null,Nr(t,0,!1,Wr.mainLoop.arg,!0),jr(e,r),Wr.mainLoop.scheduler()},updateStatus:function(){if(r.setStatus){var e=r.statusMessage||"Please wait...",t=Wr.mainLoop.remainingBlockers,n=Wr.mainLoop.expectedBlockers;t?t<n?r.setStatus(e+" ("+(n-t)+"/"+n+")"):r.setStatus(e):r.setStatus("")}},runIter:function(e){if(!P){if(r.preMainLoop&&!1===r.preMainLoop())return;Hr(e),r.postMainLoop&&r.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(!Wr.initted){Wr.initted=!0;var e={canHandle:function(e){return!r.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,r,t,n){var o=new Blob([e],{type:Wr.getMimetype(r)});o.size!==e.length&&(o=new Blob([new Uint8Array(e).buffer],{type:Wr.getMimetype(r)}));var a=URL.createObjectURL(o),i=new Image;i.onload=()=>{F(i.complete,"Image "+r+" could not be decoded");var n=document.createElement("canvas");n.width=i.width,n.height=i.height,n.getContext("2d").drawImage(i,0,0),li[r]=n,URL.revokeObjectURL(a),t&&t(e)},i.onerror=e=>{m("Image "+a+" could not be decoded"),n&&n()},i.src=a}};me.push(e);var t={canHandle:function(e){return!r.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,r,t,n){var o=!1;function a(n){o||(o=!0,fi[r]=n,t&&t(e))}var i=new Blob([e],{type:Wr.getMimetype(r)}),s=URL.createObjectURL(i),u=new Audio;u.addEventListener("canplaythrough",(()=>a(u)),!1),u.onerror=function(t){o||(v("warning: browser could not fully decode audio "+r+", trying slower base64 approach"),u.src="data:audio/x-"+r.substr(-3)+";base64,"+function(e){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="",n=0,o=0,a=0;a<e.length;a++)for(n=n<<8|e[a],o+=8;o>=6;){var i=n>>o-6&63;o-=6,t+=r[i]}return 2==o?(t+=r[(3&n)<<4],t+="=="):4==o&&(t+=r[(15&n)<<2],t+="="),t}(e),a(u))},u.src=s,Gr((()=>{a(u)}),1e4)}};me.push(t);var n=r.canvas;n&&(n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock||n.msRequestPointerLock||(()=>{}),n.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),n.exitPointerLock=n.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",o,!1),document.addEventListener("mozpointerlockchange",o,!1),document.addEventListener("webkitpointerlockchange",o,!1),document.addEventListener("mspointerlockchange",o,!1),r.elementPointerLock&&n.addEventListener("click",(e=>{!Wr.pointerLock&&r.canvas.requestPointerLock&&(r.canvas.requestPointerLock(),e.preventDefault())}),!1))}function o(){Wr.pointerLock=document.pointerLockElement===r.canvas||document.mozPointerLockElement===r.canvas||document.webkitPointerLockElement===r.canvas||document.msPointerLockElement===r.canvas}},createContext:function(e,t,n,o){if(t&&r.ctx&&e==r.canvas)return r.ctx;var a,i;if(t){var s={antialias:!1,alpha:!1,majorVersion:"undefined"!=typeof WebGL2RenderingContext?2:1};if(o)for(var u in o)s[u]=o[u];void 0!==Vr&&(i=Vr.createContext(e,s))&&(a=Vr.getContext(i).GLctx)}else a=e.getContext("2d");return a?(n&&(t||F(void 0===ci,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),r.ctx=a,t&&Vr.makeContextCurrent(i),r.useWebGL=t,Wr.moduleContextCreatedCallbacks.forEach((e=>e())),Wr.init()),a):null},destroyContext:function(e,r,t){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,t){Wr.lockPointer=e,Wr.resizeCanvas=t,void 0===Wr.lockPointer&&(Wr.lockPointer=!0),void 0===Wr.resizeCanvas&&(Wr.resizeCanvas=!1);var n=r.canvas;function o(){Wr.isFullscreen=!1;var e=n.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(n.exitFullscreen=Wr.exitFullscreen,Wr.lockPointer&&n.requestPointerLock(),Wr.isFullscreen=!0,Wr.resizeCanvas?Wr.setFullscreenCanvasSize():Wr.updateCanvasDimensions(n)):(e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),Wr.resizeCanvas?Wr.setWindowedCanvasSize():Wr.updateCanvasDimensions(n)),r.onFullScreen&&r.onFullScreen(Wr.isFullscreen),r.onFullscreen&&r.onFullscreen(Wr.isFullscreen)}Wr.fullscreenHandlersInstalled||(Wr.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",o,!1),document.addEventListener("mozfullscreenchange",o,!1),document.addEventListener("webkitfullscreenchange",o,!1),document.addEventListener("MSFullscreenChange",o,!1));var a=document.createElement("div");n.parentNode.insertBefore(a,n),a.appendChild(n),a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullscreen?()=>a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(a.webkitRequestFullScreen?()=>a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),a.requestFullscreen()},exitFullscreen:function(){return!!Wr.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{})).apply(document,[]),!0)},nextRAF:0,fakeRequestAnimationFrame:function(e){var r=Date.now();if(0===Wr.nextRAF)Wr.nextRAF=r+1e3/60;else for(;r+2>=Wr.nextRAF;)Wr.nextRAF+=1e3/60;var t=Math.max(Wr.nextRAF-r,0);setTimeout(e,t)},requestAnimationFrame:function(e){"function"!=typeof requestAnimationFrame?(0,Wr.fakeRequestAnimationFrame)(e):requestAnimationFrame(e)},safeSetTimeout:function(e,r){return Gr(e,r)},safeRequestAnimationFrame:function(e){return Wr.requestAnimationFrame((()=>{Hr(e)}))},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var r=0;switch(e.type){case"DOMMouseScroll":r=e.detail/3;break;case"mousewheel":r=e.wheelDelta/120;break;case"wheel":switch(r=e.deltaY,e.deltaMode){case 0:r/=100;break;case 1:r/=3;break;case 2:r*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return r},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Wr.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Wr.mouseMovementX=Wr.mouseMovementY=0:(Wr.mouseMovementX=Wr.getMovementX(e),Wr.mouseMovementY=Wr.getMovementY(e)),"undefined"!=typeof SDL?(Wr.mouseX=SDL.mouseX+Wr.mouseMovementX,Wr.mouseY=SDL.mouseY+Wr.mouseMovementY):(Wr.mouseX+=Wr.mouseMovementX,Wr.mouseY+=Wr.mouseMovementY);else{var t=r.canvas.getBoundingClientRect(),n=r.canvas.width,o=r.canvas.height,a=void 0!==window.scrollX?window.scrollX:window.pageXOffset,i=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var s=e.touch;if(void 0===s)return;var u=s.pageX-(a+t.left),c=s.pageY-(i+t.top),l={x:u*=n/t.width,y:c*=o/t.height};if("touchstart"===e.type)Wr.lastTouches[s.identifier]=l,Wr.touches[s.identifier]=l;else if("touchend"===e.type||"touchmove"===e.type){var f=Wr.touches[s.identifier];f||(f=l),Wr.lastTouches[s.identifier]=f,Wr.touches[s.identifier]=l}return}var d=e.pageX-(a+t.left),m=e.pageY-(i+t.top);d*=n/t.width,m*=o/t.height,Wr.mouseMovementX=d-Wr.mouseX,Wr.mouseMovementY=m-Wr.mouseY,Wr.mouseX=d,Wr.mouseY=m}},resizeListeners:[],updateResizeListeners:function(){var e=r.canvas;Wr.resizeListeners.forEach((r=>r(e.width,e.height)))},setCanvasSize:function(e,t,n){var o=r.canvas;Wr.updateCanvasDimensions(o,e,t),n||Wr.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=x[SDL.screen>>2];e|=8388608,k[SDL.screen>>2]=e}Wr.updateCanvasDimensions(r.canvas),Wr.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=x[SDL.screen>>2];e&=-8388609,k[SDL.screen>>2]=e}Wr.updateCanvasDimensions(r.canvas),Wr.updateResizeListeners()},updateCanvasDimensions:function(e,t,n){t&&n?(e.widthNative=t,e.heightNative=n):(t=e.widthNative,n=e.heightNative);var o=t,a=n;if(r.forcedAspectRatio&&r.forcedAspectRatio>0&&(o/a<r.forcedAspectRatio?o=Math.round(a*r.forcedAspectRatio):a=Math.round(o/r.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var i=Math.min(screen.width/o,screen.height/a);o=Math.round(o*i),a=Math.round(a*i)}Wr.resizeCanvas?(e.width!=o&&(e.width=o),e.height!=a&&(e.height=a),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=n&&(e.height=n),void 0!==e.style&&(o!=t||a!=n?(e.style.setProperty("width",o+"px","important"),e.style.setProperty("height",a+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}},Yr={errorCode:12288,defaultDisplayInitialized:!1,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1},stringCache:{},setErrorCode:function(e){Yr.errorCode=e},chooseConfig:function(e,r,t,n,o){if(62e3!=e)return Yr.setErrorCode(12296),0;if(r)for(;;){var a=k[r>>2];if(12321==a){var i=k[r+4>>2];Yr.contextAttributes.alpha=i>0}else if(12325==a){var s=k[r+4>>2];Yr.contextAttributes.depth=s>0}else if(12326==a){var u=k[r+4>>2];Yr.contextAttributes.stencil=u>0}else if(12337==a){var c=k[r+4>>2];Yr.contextAttributes.antialias=c>0}else if(12338==a)c=k[r+4>>2],Yr.contextAttributes.antialias=1==c;else if(12544==a){var l=k[r+4>>2];Yr.contextAttributes.lowLatency=12547!=l}else if(12344==a)break;r+=8}return t&&n||o?(o&&(k[o>>2]=1),t&&n>0&&(k[t>>2]=62002),Yr.setErrorCode(12288),1):(Yr.setErrorCode(12300),0)}},Vr={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],samplers:[],transformFeedbacks:[],syncs:[],stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function(e){Vr.lastError||(Vr.lastError=e)},getNewId:function(e){for(var r=Vr.counter++,t=e.length;t<r;t++)e[t]=null;return r},getSource:function(e,r,t,n){for(var o="",a=0;a<r;++a){var i=n?k[n+4*a>>2]:-1;o+=he(k[t+4*a>>2],i<0?void 0:i)}return o},createContext:function(e,r){var t=r.majorVersion>1?e.getContext("webgl2",r):e.getContext("webgl",r);return t?Vr.registerContext(t,r):0},registerContext:function(e,r){var t=Vr.getNewId(Vr.contexts),n={handle:t,attributes:r,version:r.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),Vr.contexts[t]=n,(void 0===r.enableExtensionsByDefault||r.enableExtensionsByDefault)&&Vr.initExtensions(n),t},makeContextCurrent:function(e){return Vr.currentContext=Vr.contexts[e],r.ctx=ci=Vr.currentContext&&Vr.currentContext.GLctx,!(e&&!ci)},getContext:function(e){return Vr.contexts[e]},deleteContext:function(e){Vr.currentContext===Vr.contexts[e]&&(Vr.currentContext=null),"object"==typeof Jr&&Jr.removeAllHandlersOnTarget(Vr.contexts[e].GLctx.canvas),Vr.contexts[e]&&Vr.contexts[e].GLctx.canvas&&(Vr.contexts[e].GLctx.canvas.GLctxObject=void 0),Vr.contexts[e]=null},initExtensions:function(e){if(e||(e=Vr.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var r,t=e.GLctx;!function(e){var r=e.getExtension("ANGLE_instanced_arrays");r&&(e.vertexAttribDivisor=function(e,t){r.vertexAttribDivisorANGLE(e,t)},e.drawArraysInstanced=function(e,t,n,o){r.drawArraysInstancedANGLE(e,t,n,o)},e.drawElementsInstanced=function(e,t,n,o,a){r.drawElementsInstancedANGLE(e,t,n,o,a)})}(t),function(e){var r=e.getExtension("OES_vertex_array_object");r&&(e.createVertexArray=function(){return r.createVertexArrayOES()},e.deleteVertexArray=function(e){r.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){r.bindVertexArrayOES(e)},e.isVertexArray=function(e){return r.isVertexArrayOES(e)})}(t),function(e){var r=e.getExtension("WEBGL_draw_buffers");r&&(e.drawBuffers=function(e,t){r.drawBuffersWEBGL(e,t)})}(t),(r=t).dibvbi=r.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),function(e){e.mdibvbi=e.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance")}(t),e.version>=2&&(t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query_webgl2")),(e.version<2||!t.disjointTimerQueryExt)&&(t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query")),function(e){e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw")}(t),(t.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||t.getExtension(e)}))}}},Xr=[];function Qr(e,r){var t;for(Xr.length=0,r>>=2;t=w[e++];)r+=105!=t&r,Xr.push(105==t?k[r]:_[r++>>1]),++r;return Xr}function Kr(e){var r=xi(),t=e();return Ci(r),t}var Jr={inEventHandler:0,removeAllEventListeners:function(){for(var e=Jr.eventHandlers.length-1;e>=0;--e)Jr._removeHandler(e);Jr.eventHandlers=[],Jr.deferredCalls=[]},registerRemoveEventListeners:function(){Jr.removeEventListenersRegistered||(M.push(Jr.removeAllEventListeners),Jr.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,r,t){function n(e,r){if(e.length!=r.length)return!1;for(var t in e)if(e[t]!=r[t])return!1;return!0}for(var o in Jr.deferredCalls){var a=Jr.deferredCalls[o];if(a.targetFunction==e&&n(a.argsList,t))return}Jr.deferredCalls.push({targetFunction:e,precedence:r,argsList:t}),Jr.deferredCalls.sort((function(e,r){return e.precedence<r.precedence}))},removeDeferredCalls:function(e){for(var r=0;r<Jr.deferredCalls.length;++r)Jr.deferredCalls[r].targetFunction==e&&(Jr.deferredCalls.splice(r,1),--r)},canPerformEventHandlerRequests:function(){return Jr.inEventHandler&&Jr.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(Jr.canPerformEventHandlerRequests())for(var e=0;e<Jr.deferredCalls.length;++e){var r=Jr.deferredCalls[e];Jr.deferredCalls.splice(e,1),--e,r.targetFunction.apply(null,r.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,r){for(var t=0;t<Jr.eventHandlers.length;++t)Jr.eventHandlers[t].target!=e||r&&r!=Jr.eventHandlers[t].eventTypeString||Jr._removeHandler(t--)},_removeHandler:function(e){var r=Jr.eventHandlers[e];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),Jr.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){if(!e.target)return-4;var r=function(r){++Jr.inEventHandler,Jr.currentEventHandler=e,Jr.runDeferredCalls(),e.handlerFunc(r),Jr.runDeferredCalls(),--Jr.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=r,e.target.addEventListener(e.eventTypeString,r,e.useCapture),Jr.eventHandlers.push(e),Jr.registerRemoveEventListeners();else for(var t=0;t<Jr.eventHandlers.length;++t)Jr.eventHandlers[t].target==e.target&&Jr.eventHandlers[t].eventTypeString==e.eventTypeString&&Jr._removeHandler(t--);return 0},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},Zr={};function et(e){return e>2?he(e):e}var rt=[0,document,window];function tt(e){return e=et(e),rt[e]||document.querySelector(e)}function nt(e){return tt(e)}function ot(e){var r=ae(e)+1,t=_i(r);return kr(e,t,r),t}function at(e){return Kr((function(){var r=_i(8),t=r+4;return function(e,r,t){var n=nt(e);if(!n)return-4;k[r>>2]=n.width,k[t>>2]=n.height}(ot(e.id),r,t),[k[r>>2],k[t>>2]]}))}function it(e,r,t){var n=nt(e);return n?(n.width=r,n.height=t,0):-4}function st(e,r,t){e.controlTransferredOffscreen?Kr((function(){it(ot(e.id),r,t)})):(e.width=r,e.height=t)}function ut(e,r,t){e.style.paddingLeft=e.style.paddingRight=t+"px",e.style.paddingTop=e.style.paddingBottom=r+"px"}function ct(e){return rt.indexOf(e)<0?e.getBoundingClientRect():{left:0,top:0}}function lt(e,r){if(0==r.scaleMode&&0==r.canvasResolutionScaleMode||function(e,r){var t=function(e){var r=at(e),t=r[0],n=r[1],o=e.style.width,a=e.style.height,i=e.style.backgroundColor,s=document.body.style.backgroundColor,u=e.style.paddingLeft,c=e.style.paddingRight,l=e.style.paddingTop,f=e.style.paddingBottom,d=e.style.marginLeft,m=e.style.marginRight,v=e.style.marginTop,p=e.style.marginBottom,h=document.body.style.margin,g=document.documentElement.style.overflow,y=document.body.scroll,w=e.style.imageRendering;function b(){document.fullscreenElement||document.webkitFullscreenElement||(document.removeEventListener("fullscreenchange",b),document.removeEventListener("webkitfullscreenchange",b),st(e,t,n),e.style.width=o,e.style.height=a,e.style.backgroundColor=i,s||(document.body.style.backgroundColor="white"),document.body.style.backgroundColor=s,e.style.paddingLeft=u,e.style.paddingRight=c,e.style.paddingTop=l,e.style.paddingBottom=f,e.style.marginLeft=d,e.style.marginRight=m,e.style.marginTop=v,e.style.marginBottom=p,document.body.style.margin=h,document.documentElement.style.overflow=g,document.body.scroll=y,e.style.imageRendering=w,e.GLctxObject&&e.GLctxObject.GLctx.viewport(0,0,t,n),Zr.canvasResizedCallback&&J(Zr.canvasResizedCallback)(37,0,Zr.canvasResizedCallbackUserData))}return document.addEventListener("fullscreenchange",b),document.addEventListener("webkitfullscreenchange",b),b}(e),n=r.softFullscreen?innerWidth:screen.width,o=r.softFullscreen?innerHeight:screen.height,a=ct(e),i=a.width,s=a.height,u=at(e),c=u[0],l=u[1];if(3==r.scaleMode)ut(e,(o-s)/2,(n-i)/2),n=i,o=s;else if(2==r.scaleMode)if(n*l<c*o){var f=l*n/c;ut(e,(o-f)/2,0),o=f}else{var d=c*o/l;ut(e,0,(n-d)/2),n=d}e.style.backgroundColor||(e.style.backgroundColor="black"),document.body.style.backgroundColor||(document.body.style.backgroundColor="black"),e.style.width=n+"px",e.style.height=o+"px",1==r.filteringMode&&(e.style.imageRendering="optimizeSpeed",e.style.imageRendering="-moz-crisp-edges",e.style.imageRendering="-o-crisp-edges",e.style.imageRendering="-webkit-optimize-contrast",e.style.imageRendering="optimize-contrast",e.style.imageRendering="crisp-edges",e.style.imageRendering="pixelated");var m=2==r.canvasResolutionScaleMode?devicePixelRatio:1;if(0!=r.canvasResolutionScaleMode){var v=n*m|0,p=o*m|0;st(e,v,p),e.GLctxObject&&e.GLctxObject.GLctx.viewport(0,0,v,p)}}(e,r),e.requestFullscreen)e.requestFullscreen();else{if(!e.webkitRequestFullscreen)return Jr.fullscreenEnabled()?-3:-1;e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}return Zr=r,r.canvasResizedCallback&&J(r.canvasResizedCallback)(37,0,r.canvasResizedCallbackUserData),0}function ft(e){return e.requestPointerLock?(e.requestPointerLock(),0):document.body.requestPointerLock?-3:-1}function dt(e,r){_[e>>3]=r.timestamp;for(var t=0;t<r.axes.length;++t)_[e+8*t+16>>3]=r.axes[t];for(t=0;t<r.buttons.length;++t)"object"==typeof r.buttons[t]?_[e+8*t+528>>3]=r.buttons[t].value:_[e+8*t+528>>3]=r.buttons[t];for(t=0;t<r.buttons.length;++t)"object"==typeof r.buttons[t]?k[e+4*t+1040>>2]=r.buttons[t].pressed:k[e+4*t+1040>>2]=1==r.buttons[t];k[e+1296>>2]=r.connected,k[e+1300>>2]=r.index,k[e+8>>2]=r.axes.length,k[e+12>>2]=r.buttons.length,kr(r.id,e+1304,64),kr(r.mapping,e+1368,64)}function mt(e){ci.activeTexture(e)}var vt=mt;function pt(e,r){ci.attachShader(Vr.programs[e],Vr.shaders[r])}var ht=pt;function gt(e,r,t){ci.bindAttribLocation(Vr.programs[e],r,he(t))}var yt=gt;function wt(e,r){35051==e?ci.currentPixelPackBufferBinding=r:35052==e&&(ci.currentPixelUnpackBufferBinding=r),ci.bindBuffer(e,Vr.buffers[r])}var bt=wt;function Et(e,r){ci.bindFramebuffer(e,Vr.framebuffers[r])}var kt=Et;function xt(e,r){ci.bindTexture(e,Vr.textures[r])}var Ct=xt;function _t(e){ci.bindVertexArray(Vr.vaos[e])}var St=_t,Pt=_t;function Ft(e,r,t,n){ci.blendColor(e,r,t,n)}var Dt=Ft;function Lt(e){ci.blendEquation(e)}var Tt=Lt;function At(e,r,t,n){ci.blendFuncSeparate(e,r,t,n)}var Mt=At;function $t(e,r,t,n){Vr.currentContext.version>=2?t&&r?ci.bufferData(e,w,n,t,r):ci.bufferData(e,r,n):ci.bufferData(e,t?w.subarray(t,t+r):r,n)}var Rt=$t;function It(e){return ci.checkFramebufferStatus(e)}var Ot=It;function Bt(e){ci.clear(e)}var jt=Bt;function Nt(e,r,t,n){ci.clearColor(e,r,t,n)}var zt=Nt;function Ut(e,r){return(e>>>0)+4294967296*r}function qt(e,r,t,n){ci.colorMask(!!e,!!r,!!t,!!n)}var Ht=qt;function Gt(e){ci.compileShader(Vr.shaders[e])}var Wt=Gt;function Yt(e,r,t,n,o,a,i,s){Vr.currentContext.version>=2?ci.currentPixelUnpackBufferBinding||!i?ci.compressedTexImage2D(e,r,t,n,o,a,i,s):ci.compressedTexImage2D(e,r,t,n,o,a,w,s,i):ci.compressedTexImage2D(e,r,t,n,o,a,s?w.subarray(s,s+i):null)}var Vt=Yt;function Xt(){var e=Vr.getNewId(Vr.programs),r=ci.createProgram();return r.name=e,r.maxUniformLength=r.maxAttributeLength=r.maxUniformBlockNameLength=0,r.uniformIdCounter=1,Vr.programs[e]=r,e}var Qt=Xt;function Kt(e){var r=Vr.getNewId(Vr.shaders);return Vr.shaders[r]=ci.createShader(e),r}var Jt=Kt;function Zt(e){ci.cullFace(e)}var en=Zt;function rn(e,r){for(var t=0;t<e;t++){var n=k[r+4*t>>2],o=Vr.buffers[n];o&&(ci.deleteBuffer(o),o.name=0,Vr.buffers[n]=null,n==ci.currentPixelPackBufferBinding&&(ci.currentPixelPackBufferBinding=0),n==ci.currentPixelUnpackBufferBinding&&(ci.currentPixelUnpackBufferBinding=0))}}var tn=rn;function nn(e,r){for(var t=0;t<e;++t){var n=k[r+4*t>>2],o=Vr.framebuffers[n];o&&(ci.deleteFramebuffer(o),o.name=0,Vr.framebuffers[n]=null)}}var on=nn;function an(e){if(e){var r=Vr.programs[e];r?(ci.deleteProgram(r),r.name=0,Vr.programs[e]=null):Vr.recordError(1281)}}var sn=an;function un(e,r){for(var t=0;t<e;t++){var n=k[r+4*t>>2],o=Vr.renderbuffers[n];o&&(ci.deleteRenderbuffer(o),o.name=0,Vr.renderbuffers[n]=null)}}var cn=un;function ln(e){if(e){var r=Vr.shaders[e];r?(ci.deleteShader(r),Vr.shaders[e]=null):Vr.recordError(1281)}}var fn=ln;function dn(e,r){for(var t=0;t<e;t++){var n=k[r+4*t>>2],o=Vr.textures[n];o&&(ci.deleteTexture(o),o.name=0,Vr.textures[n]=null)}}var mn=dn;function vn(e,r){for(var t=0;t<e;t++){var n=k[r+4*t>>2];ci.deleteVertexArray(Vr.vaos[n]),Vr.vaos[n]=null}}var pn=vn,hn=vn;function gn(e){ci.depthFunc(e)}var yn=gn;function wn(e){ci.depthMask(!!e)}var bn=wn;function En(e,r){ci.detachShader(Vr.programs[e],Vr.shaders[r])}var kn=En;function xn(e){ci.disable(e)}var Cn=xn;function _n(e,r,t){ci.drawArrays(e,r,t)}var Sn=_n;function Pn(e,r,t,n){ci.drawArraysInstanced(e,r,t,n)}var Fn=Pn,Dn=Pn,Ln=Pn,Tn=Pn,An=Pn,Mn=[];function $n(e,r){for(var t=Mn[e],n=0;n<e;n++)t[n]=k[r+4*n>>2];ci.drawBuffers(t)}var Rn=$n,In=$n,On=$n;function Bn(e,r,t,n){ci.drawElements(e,r,t,n)}var jn=Bn;function Nn(e,r,t,n,o){ci.drawElementsInstanced(e,r,t,n,o)}var zn=Nn,Un=Nn,qn=Nn,Hn=Nn,Gn=Nn;function Wn(e){ci.enable(e)}var Yn=Wn;function Vn(e){ci.enableVertexAttribArray(e)}var Xn=Vn;function Qn(e,r,t,n,o){ci.framebufferTexture2D(e,r,t,Vr.textures[n],o)}var Kn=Qn;function Jn(e){ci.frontFace(e)}var Zn=Jn;function eo(e,r,t,n){for(var o=0;o<e;o++){var a=ci[t](),i=a&&Vr.getNewId(n);a?(a.name=i,n[i]=a):Vr.recordError(1282),k[r+4*o>>2]=i}}function ro(e,r){eo(e,r,"createBuffer",Vr.buffers)}var to=ro;function no(e,r){eo(e,r,"createFramebuffer",Vr.framebuffers)}var oo=no;function ao(e,r){eo(e,r,"createTexture",Vr.textures)}var io=ao;function so(e,r){eo(e,r,"createVertexArray",Vr.vaos)}var uo=so,co=so;function lo(e){ci.generateMipmap(e)}var fo=lo;function mo(e,r,t,n,o,a,i,s){r=Vr.programs[r];var u=ci[e](r,t);if(u){var c=s&&kr(u.name,s,n);o&&(k[o>>2]=c),a&&(k[a>>2]=u.size),i&&(k[i>>2]=u.type)}}function vo(e,r,t,n,o,a,i){mo("getActiveAttrib",e,r,t,n,o,a,i)}var po=vo;function ho(e,r,t,n,o,a,i){mo("getActiveUniform",e,r,t,n,o,a,i)}var go=ho;function yo(e,r){x[e>>2]=r,x[e+4>>2]=(r-x[e>>2])/4294967296}function wo(e,r,t){if(r){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return void(0!=t&&1!=t&&Vr.recordError(1280));case 34814:case 36345:n=0;break;case 34466:var o=ci.getParameter(34467);n=o?o.length:0;break;case 33309:if(Vr.currentContext.version<2)return void Vr.recordError(1282);n=2*(ci.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(Vr.currentContext.version<2)return void Vr.recordError(1280);n=33307==e?3:0}if(void 0===n){var a=ci.getParameter(e);switch(typeof a){case"number":n=a;break;case"boolean":n=a?1:0;break;case"string":return void Vr.recordError(1280);case"object":if(null===a)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:n=0;break;default:return void Vr.recordError(1280)}else{if(a instanceof Float32Array||a instanceof Uint32Array||a instanceof Int32Array||a instanceof Array){for(var i=0;i<a.length;++i)switch(t){case 0:k[r+4*i>>2]=a[i];break;case 2:C[r+4*i>>2]=a[i];break;case 4:y[r+i|0]=a[i]?1:0}return}try{n=0|a.name}catch(r){return Vr.recordError(1280),void v("GL_INVALID_ENUM in glGet"+t+"v: Unknown object returned from WebGL getParameter("+e+")! (error: "+r+")")}}break;default:return Vr.recordError(1280),void v("GL_INVALID_ENUM in glGet"+t+"v: Native code calling glGet"+t+"v("+e+") and it returns "+a+" of type "+typeof a+"!")}}switch(t){case 1:yo(r,n);break;case 0:k[r>>2]=n;break;case 2:C[r>>2]=n;break;case 4:y[0|r]=n?1:0}}else Vr.recordError(1281)}function bo(e,r,t,n){if(t){var o,a=ci.getIndexedParameter(e,r);switch(typeof a){case"boolean":o=a?1:0;break;case"number":o=a;break;case"object":if(null===a)switch(e){case 35983:case 35368:o=0;break;default:return void Vr.recordError(1280)}else{if(!(a instanceof WebGLBuffer))return void Vr.recordError(1280);o=0|a.name}break;default:return void Vr.recordError(1280)}switch(n){case 1:yo(t,o);break;case 0:k[t>>2]=o;break;case 2:C[t>>2]=o;break;case 4:y[0|t]=o?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+n}}else Vr.recordError(1281)}function Eo(e,r){wo(e,r,0)}var ko=Eo;function xo(e,r,t,n){var o=ci.getProgramInfoLog(Vr.programs[e]);null===o&&(o="(unknown error)");var a=r>0&&n?kr(o,n,r):0;t&&(k[t>>2]=a)}var Co=xo;function _o(e,r,t){if(t)if(e>=Vr.counter)Vr.recordError(1281);else if(e=Vr.programs[e],35716==r){var n=ci.getProgramInfoLog(e);null===n&&(n="(unknown error)"),k[t>>2]=n.length+1}else if(35719==r){if(!e.maxUniformLength)for(var o=0;o<ci.getProgramParameter(e,35718);++o)e.maxUniformLength=Math.max(e.maxUniformLength,ci.getActiveUniform(e,o).name.length+1);k[t>>2]=e.maxUniformLength}else if(35722==r){if(!e.maxAttributeLength)for(o=0;o<ci.getProgramParameter(e,35721);++o)e.maxAttributeLength=Math.max(e.maxAttributeLength,ci.getActiveAttrib(e,o).name.length+1);k[t>>2]=e.maxAttributeLength}else if(35381==r){if(!e.maxUniformBlockNameLength)for(o=0;o<ci.getProgramParameter(e,35382);++o)e.maxUniformBlockNameLength=Math.max(e.maxUniformBlockNameLength,ci.getActiveUniformBlockName(e,o).length+1);k[t>>2]=e.maxUniformBlockNameLength}else k[t>>2]=ci.getProgramParameter(e,r);else Vr.recordError(1281)}var So=_o;function Po(e,r,t){if(t){var n,o=Vr.queries[e];yo(t,"boolean"==typeof(n=Vr.currentContext.version<2?ci.disjointTimerQueryExt.getQueryObjectEXT(o,r):ci.getQueryParameter(o,r))?n?1:0:n)}else Vr.recordError(1281)}var Fo=Po;function Do(e,r,t){if(t){var n,o=Vr.queries[e],a=ci.disjointTimerQueryExt.getQueryObjectEXT(o,r);n="boolean"==typeof a?a?1:0:a,k[t>>2]=n}else Vr.recordError(1281)}var Lo=Do,To=Po,Ao=Do;function Mo(e,r,t,n){var o=ci.getShaderInfoLog(Vr.shaders[e]);null===o&&(o="(unknown error)");var a=r>0&&n?kr(o,n,r):0;t&&(k[t>>2]=a)}var $o=Mo;function Ro(e,r,t){if(t)if(35716==r){var n=ci.getShaderInfoLog(Vr.shaders[e]);null===n&&(n="(unknown error)");var o=n?n.length+1:0;k[t>>2]=o}else if(35720==r){var a=ci.getShaderSource(Vr.shaders[e]),i=a?a.length+1:0;k[t>>2]=i}else k[t>>2]=ci.getShaderParameter(Vr.shaders[e],r);else Vr.recordError(1281)}var Io=Ro;function Oo(e){var r=Vr.stringCache[e];if(!r){switch(e){case 7939:var t=ci.getSupportedExtensions()||[];r=Br((t=t.concat(t.map((function(e){return"GL_"+e})))).join(" "));break;case 7936:case 7937:case 37445:case 37446:var n=ci.getParameter(e);n||Vr.recordError(1280),r=n&&Br(n);break;case 7938:var o=ci.getParameter(7938);r=Br(o=Vr.currentContext.version>=2?"OpenGL ES 3.0 ("+o+")":"OpenGL ES 2.0 ("+o+")");break;case 35724:var a=ci.getParameter(35724),i=a.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==i&&(3==i[1].length&&(i[1]=i[1]+"0"),a="OpenGL ES GLSL ES "+i[1]+" ("+a+")"),r=Br(a);break;default:Vr.recordError(1280)}Vr.stringCache[e]=r}return r}var Bo=Oo;function jo(e){return"]"==e.slice(-1)&&e.lastIndexOf("[")}function No(e){var r,t,n=e.uniformLocsById,o=e.uniformSizeAndIdsByName;if(!n)for(e.uniformLocsById=n={},e.uniformArrayNamesById={},r=0;r<ci.getProgramParameter(e,35718);++r){var a=ci.getActiveUniform(e,r),i=a.name,s=a.size,u=jo(i),c=u>0?i.slice(0,u):i,l=e.uniformIdCounter;for(e.uniformIdCounter+=s,o[c]=[s,l],t=0;t<s;++t)n[l]=t,e.uniformArrayNamesById[l++]=c}}function zo(e,r){if(r=he(r),e=Vr.programs[e]){No(e);var t=e.uniformLocsById,n=0,o=r,a=jo(r);a>0&&(s=r.slice(a+1),n=parseInt(s)>>>0,o=r.slice(0,a));var i=e.uniformSizeAndIdsByName[o];if(i&&n<i[0]&&(t[n+=i[1]]=t[n]||ci.getUniformLocation(e,r)))return n}else Vr.recordError(1281);var s;return-1}var Uo=zo;function qo(e){var r=ci.currentProgram;if(r){var t=r.uniformLocsById[e];return"number"==typeof t&&(r.uniformLocsById[e]=t=ci.getUniformLocation(r,r.uniformArrayNamesById[e]+(t>0?"["+t+"]":""))),t}Vr.recordError(1282)}function Ho(e,r,t,n){if(t){No(e=Vr.programs[e]);var o=ci.getUniform(e,qo(r));if("number"==typeof o||"boolean"==typeof o)switch(n){case 0:k[t>>2]=o;break;case 2:C[t>>2]=o}else for(var a=0;a<o.length;a++)switch(n){case 0:k[t+4*a>>2]=o[a];break;case 2:C[t+4*a>>2]=o[a]}}else Vr.recordError(1281)}function Go(e,r,t,n){if(t){var o=ci.getVertexAttrib(e,r);if(34975==r)k[t>>2]=o&&o.name;else if("number"==typeof o||"boolean"==typeof o)switch(n){case 0:k[t>>2]=o;break;case 2:C[t>>2]=o;break;case 5:k[t>>2]=Math.fround(o)}else for(var a=0;a<o.length;a++)switch(n){case 0:k[t+4*a>>2]=o[a];break;case 2:C[t+4*a>>2]=o[a];break;case 5:k[t+4*a>>2]=Math.fround(o[a])}}else Vr.recordError(1281)}function Wo(e,r,t){Go(e,r,t,0)}var Yo=Wo,Vo=Wo;function Xo(e){var r=Vr.vaos[e];return r?ci.isVertexArray(r):0}var Qo=Xo,Ko=Xo;function Jo(e){ci.lineWidth(e)}var Zo=Jo;function ea(e){e=Vr.programs[e],ci.linkProgram(e),e.uniformLocsById=0,e.uniformSizeAndIdsByName={}}var ra=ea;function ta(e,r){3317==e&&(Vr.unpackAlignment=r),ci.pixelStorei(e,r)}var na=ta;function oa(e){return 0==(e-=5120)?y:1==e?w:2==e?b:4==e?k:6==e?C:5==e||28922==e||28520==e||30779==e||30782==e?x:E}function aa(e){return 31-Math.clz32(e.BYTES_PER_ELEMENT)}function ia(e,r,t,n,o,a){var i=oa(e),s=aa(i),u=1<<s,c=function(e){return{5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[e-6402]||1}(r)*u,l=function(e,r,t,n){var o;return r*(e*t+(o=n)-1&-o)}(t,n,c,Vr.unpackAlignment);return i.subarray(o>>s,o+l>>s)}function sa(e,r,t,n,o,a,i){if(Vr.currentContext.version>=2)if(ci.currentPixelPackBufferBinding)ci.readPixels(e,r,t,n,o,a,i);else{var s=oa(a);ci.readPixels(e,r,t,n,o,a,s,i>>aa(s))}else{var u=ia(a,o,t,n,i);u?ci.readPixels(e,r,t,n,o,a,u):Vr.recordError(1280)}}var ua=sa;function ca(e,r,t,n){ci.scissor(e,r,t,n)}var la=ca;function fa(e,r,t,n){var o=Vr.getSource(e,r,t,n);ci.shaderSource(Vr.shaders[e],o)}var da=fa;function ma(e,r,t,n,o,a,i,s,u){if(Vr.currentContext.version>=2)if(ci.currentPixelUnpackBufferBinding)ci.texImage2D(e,r,t,n,o,a,i,s,u);else if(u){var c=oa(s);ci.texImage2D(e,r,t,n,o,a,i,s,c,u>>aa(c))}else ci.texImage2D(e,r,t,n,o,a,i,s,null);else ci.texImage2D(e,r,t,n,o,a,i,s,u?ia(s,i,n,o,u):null)}var va=ma;function pa(e,r,t){ci.texParameteri(e,r,t)}var ha=pa,ga=[];function ya(e,r,t){if(Vr.currentContext.version>=2)r&&ci.uniform1fv(qo(e),C,t>>2,r);else{if(r<=288)for(var n=ga[r-1],o=0;o<r;++o)n[o]=C[t+4*o>>2];else n=C.subarray(t>>2,t+4*r>>2);ci.uniform1fv(qo(e),n)}}var wa=ya;function ba(e,r){ci.uniform1i(qo(e),r)}var Ea=ba,ka=[];function xa(e,r,t){if(Vr.currentContext.version>=2)r&&ci.uniform2fv(qo(e),C,t>>2,2*r);else{if(r<=144)for(var n=ga[2*r-1],o=0;o<2*r;o+=2)n[o]=C[t+4*o>>2],n[o+1]=C[t+(4*o+4)>>2];else n=C.subarray(t>>2,t+8*r>>2);ci.uniform2fv(qo(e),n)}}var Ca=xa;function _a(e,r,t){if(Vr.currentContext.version>=2)r&&ci.uniform3fv(qo(e),C,t>>2,3*r);else{if(r<=96)for(var n=ga[3*r-1],o=0;o<3*r;o+=3)n[o]=C[t+4*o>>2],n[o+1]=C[t+(4*o+4)>>2],n[o+2]=C[t+(4*o+8)>>2];else n=C.subarray(t>>2,t+12*r>>2);ci.uniform3fv(qo(e),n)}}var Sa=_a;function Pa(e,r,t){if(Vr.currentContext.version>=2)r&&ci.uniform4fv(qo(e),C,t>>2,4*r);else{if(r<=72){var n=ga[4*r-1],o=C;t>>=2;for(var a=0;a<4*r;a+=4){var i=t+a;n[a]=o[i],n[a+1]=o[i+1],n[a+2]=o[i+2],n[a+3]=o[i+3]}}else n=C.subarray(t>>2,t+16*r>>2);ci.uniform4fv(qo(e),n)}}var Fa=Pa;function Da(e,r,t,n){if(Vr.currentContext.version>=2)r&&ci.uniformMatrix4fv(qo(e),!!t,C,n>>2,16*r);else{if(r<=18){var o=ga[16*r-1],a=C;n>>=2;for(var i=0;i<16*r;i+=16){var s=n+i;o[i]=a[s],o[i+1]=a[s+1],o[i+2]=a[s+2],o[i+3]=a[s+3],o[i+4]=a[s+4],o[i+5]=a[s+5],o[i+6]=a[s+6],o[i+7]=a[s+7],o[i+8]=a[s+8],o[i+9]=a[s+9],o[i+10]=a[s+10],o[i+11]=a[s+11],o[i+12]=a[s+12],o[i+13]=a[s+13],o[i+14]=a[s+14],o[i+15]=a[s+15]}}else o=C.subarray(n>>2,n+64*r>>2);ci.uniformMatrix4fv(qo(e),!!t,o)}}var La=Da;function Ta(e){e=Vr.programs[e],ci.useProgram(e),ci.currentProgram=e}var Aa=Ta;function Ma(e,r){ci.vertexAttribDivisor(e,r)}var $a=Ma,Ra=Ma,Ia=Ma,Oa=Ma,Ba=Ma;function ja(e,r,t,n,o,a){ci.vertexAttribPointer(e,r,t,!!n,o,a)}var Na=ja;function za(e,r,t,n){ci.viewport(e,r,t,n)}var Ua=za;function qa(e){var r=p.buffer;try{return p.grow(e-r.byteLength+65535>>>16),D(),1}catch(e){}}function Ha(e,r,t,n,o,a,i){Jr.focusEvent||(Jr.focusEvent=gi(256));var s={target:tt(e),eventTypeString:a,callbackfunc:n,handlerFunc:function(e=event){var t=Jr.getNodeNameForTarget(e.target),a=e.target.id?e.target.id:"",i=Jr.focusEvent;kr(t,i+0,128),kr(a,i+128,128),J(n)(o,i,r)&&e.preventDefault()},useCapture:t};return Jr.registerOrRemoveHandler(s)}function Ga(e,r,t,n,o,a,i){Jr.fullscreenChangeEvent||(Jr.fullscreenChangeEvent=gi(280));var s={target:e,eventTypeString:a,callbackfunc:n,handlerFunc:function(e=event){var t=Jr.fullscreenChangeEvent;!function(e){var r=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,t=!!r;k[e>>2]=t,k[e+4>>2]=Jr.fullscreenEnabled();var n=t?r:Jr.previousFullscreenElement,o=Jr.getNodeNameForTarget(n),a=n&&n.id?n.id:"";kr(o,e+8,128),kr(a,e+136,128),k[e+264>>2]=n?n.clientWidth:0,k[e+268>>2]=n?n.clientHeight:0,k[e+272>>2]=screen.width,k[e+276>>2]=screen.height,t&&(Jr.previousFullscreenElement=r)}(t),J(n)(o,t,r)&&e.preventDefault()},useCapture:t};return Jr.registerOrRemoveHandler(s)}function Wa(e,r,t,n,o,a,i){Jr.gamepadEvent||(Jr.gamepadEvent=gi(1432));var s={target:tt(e),allowsDeferredCalls:!0,eventTypeString:a,callbackfunc:n,handlerFunc:function(e=event){var t=Jr.gamepadEvent;dt(t,e.gamepad),J(n)(o,t,r)&&e.preventDefault()},useCapture:t};return Jr.registerOrRemoveHandler(s)}function Ya(e,r,t,n,o,a,i){Jr.keyEvent||(Jr.keyEvent=gi(176));var s={target:tt(e),allowsDeferredCalls:!0,eventTypeString:a,callbackfunc:n,handlerFunc:function(e){var t=Jr.keyEvent;_[t>>3]=e.timeStamp;var a=t>>2;k[a+2]=e.location,k[a+3]=e.ctrlKey,k[a+4]=e.shiftKey,k[a+5]=e.altKey,k[a+6]=e.metaKey,k[a+7]=e.repeat,k[a+8]=e.charCode,k[a+9]=e.keyCode,k[a+10]=e.which,kr(e.key||"",t+44,32),kr(e.code||"",t+76,32),kr(e.char||"",t+108,32),kr(e.locale||"",t+140,32),J(n)(o,t,r)&&e.preventDefault()},useCapture:t};return Jr.registerOrRemoveHandler(s)}function Va(e,r,t){_[e>>3]=r.timeStamp;var n=e>>2;k[n+2]=r.screenX,k[n+3]=r.screenY,k[n+4]=r.clientX,k[n+5]=r.clientY,k[n+6]=r.ctrlKey,k[n+7]=r.shiftKey,k[n+8]=r.altKey,k[n+9]=r.metaKey,b[2*n+20]=r.button,b[2*n+21]=r.buttons,k[n+11]=r.movementX,k[n+12]=r.movementY;var o=ct(t);k[n+13]=r.clientX-o.left,k[n+14]=r.clientY-o.top}function Xa(e,r,t,n,o,a,i){Jr.mouseEvent||(Jr.mouseEvent=gi(72));var s={target:e=tt(e),allowsDeferredCalls:"mousemove"!=a&&"mouseenter"!=a&&"mouseleave"!=a,eventTypeString:a,callbackfunc:n,handlerFunc:function(t=event){Va(Jr.mouseEvent,t,e),J(n)(o,Jr.mouseEvent,r)&&t.preventDefault()},useCapture:t};return Jr.registerOrRemoveHandler(s)}function Qa(e,r,t,n,o,a,i){Jr.pointerlockChangeEvent||(Jr.pointerlockChangeEvent=gi(260));var s={target:e,eventTypeString:a,callbackfunc:n,handlerFunc:function(e=event){var t=Jr.pointerlockChangeEvent;!function(e){var r=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||document.msPointerLockElement,t=!!r;k[e>>2]=t;var n=Jr.getNodeNameForTarget(r),o=r&&r.id?r.id:"";kr(n,e+4,128),kr(o,e+132,128)}(t),J(n)(o,t,r)&&e.preventDefault()},useCapture:t};return Jr.registerOrRemoveHandler(s)}function Ka(e,r,t,n,o,a,i){Jr.touchEvent||(Jr.touchEvent=gi(1696));var s={target:e=tt(e),allowsDeferredCalls:"touchstart"==a||"touchend"==a,eventTypeString:a,callbackfunc:n,handlerFunc:function(t){for(var a,i={},s=t.touches,u=0;u<s.length;++u)(a=s[u]).isChanged=a.onTarget=0,i[a.identifier]=a;for(u=0;u<t.changedTouches.length;++u)(a=t.changedTouches[u]).isChanged=1,i[a.identifier]=a;for(u=0;u<t.targetTouches.length;++u)i[t.targetTouches[u].identifier].onTarget=1;var c=Jr.touchEvent;_[c>>3]=t.timeStamp;var l=c>>2;k[l+3]=t.ctrlKey,k[l+4]=t.shiftKey,k[l+5]=t.altKey,k[l+6]=t.metaKey,l+=7;var f=ct(e),d=0;for(var u in i)if(a=i[u],k[l+0]=a.identifier,k[l+1]=a.screenX,k[l+2]=a.screenY,k[l+3]=a.clientX,k[l+4]=a.clientY,k[l+5]=a.pageX,k[l+6]=a.pageY,k[l+7]=a.isChanged,k[l+8]=a.onTarget,k[l+9]=a.clientX-f.left,k[l+10]=a.clientY-f.top,l+=13,++d>31)break;k[c+8>>2]=d,J(n)(o,c,r)&&t.preventDefault()},useCapture:t};return Jr.registerOrRemoveHandler(s)}var Ja={openDatabase:function(e,r,t,n){try{var o=indexedDB.open(e,r)}catch(e){return n(e)}o.onupgradeneeded=e=>{var r=e.target.result;r.objectStoreNames.contains("FILES")&&r.deleteObjectStore("FILES"),r.createObjectStore("FILES")},o.onsuccess=e=>t(e.target.result),o.onerror=e=>n(e)},init:function(){Ja.xhrs=new be,q(),Ja.openDatabase("emscripten_filesystem",1,(e=>{Ja.dbInstance=e,H()}),(()=>{Ja.dbInstance=!1,H()}))}};function Za(e,r,t,n,o){var a=x[e+8>>2];if(a){var i=he(a),s=e+112,u=he(s+0);u||(u="GET");var c=x[s+56>>2],l=x[s+68>>2],f=x[s+72>>2],d=x[s+76>>2],m=x[s+80>>2],v=x[s+84>>2],p=x[s+88>>2],h=x[s+52>>2],g=!!(1&h),y=!!(2&h),b=!!(64&h),k=l?he(l):void 0,C=f?he(f):void 0,_=new XMLHttpRequest;if(_.withCredentials=!!w[s+60|0],_.open(u,i,!b,k,C),b||(_.timeout=c),_.url_=i,_.responseType="arraybuffer",m){var S=he(m);_.overrideMimeType(S)}if(d)for(;;){var P=x[d>>2];if(!P)break;var F=x[d+4>>2];if(!F)break;d+=8;var D=he(P),L=he(F);_.setRequestHeader(D,L)}var T=Ja.xhrs.allocate(_);x[e>>2]=T;var A=v&&p?w.slice(v,v+p):null;_.onload=n=>{Ja.xhrs.has(T)&&(M(),_.status>=200&&_.status<300?r&&r(e,_,n):t&&t(e,_,n))},_.onerror=r=>{Ja.xhrs.has(T)&&(M(),t&&t(e,_,r))},_.ontimeout=r=>{Ja.xhrs.has(T)&&t&&t(e,_,r)},_.onprogress=r=>{if(Ja.xhrs.has(T)){var t=g&&y&&_.response?_.response.byteLength:0,o=0;t>0&&g&&y&&(o=gi(t),w.set(new Uint8Array(_.response),o)),x[e+12>>2]=o,yo(e+16,t),yo(e+24,r.loaded-t),yo(e+32,r.total),E[e+40>>1]=_.readyState,_.readyState>=3&&0===_.status&&r.loaded>0&&(_.status=200),E[e+42>>1]=_.status,_.statusText&&kr(_.statusText,e+44,64),n&&n(e,_,r),o&&yi(o)}},_.onreadystatechange=r=>{Ja.xhrs.has(T)&&(E[e+40>>1]=_.readyState,_.readyState>=2&&(E[e+42>>1]=_.status),o&&o(e,_,r))};try{_.send(A)}catch(r){t&&t(e,_,r)}}else t(e,0,"no url specified!");function M(){var r=0,t=0;_.response&&g&&0===x[e+12>>2]&&(t=_.response.byteLength),t>0&&(r=gi(t),w.set(new Uint8Array(_.response),r)),x[e+12>>2]=r,yo(e+16,t),yo(e+24,0);var n=_.response?_.response.byteLength:0;n&&yo(e+32,n),E[e+40>>1]=_.readyState,E[e+42>>1]=_.status,_.statusText&&kr(_.statusText,e+44,64)}}function ei(e,r,t,n,o){if(e){var a=x[r+112+64>>2];a||(a=x[r+8>>2]);var i=he(a);try{var s=e.transaction(["FILES"],"readwrite").objectStore("FILES").put(t,i);s.onsuccess=e=>{E[r+40>>1]=4,E[r+42>>1]=200,kr("OK",r+44,64),n(r,0,i)},s.onerror=e=>{E[r+40>>1]=4,E[r+42>>1]=413,kr("Payload Too Large",r+44,64),o(r,0,e)}}catch(e){o(r,0,e)}}else o(r,0,"IndexedDB not available!")}var ri={};function ti(){if(!ti.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(var r in ri)void 0===ri[r]?delete e[r]:e[r]=ri[r];var t=[];for(var r in e)t.push(`${r}=${e[r]}`);ti.strings=t}return ti.strings}var ni=[31,29,31,30,31,30,31,31,30,31,30,31],oi=[31,28,31,30,31,30,31,31,30,31,30,31];function ai(e,r){y.set(e,r)}function ii(e){return r["_"+e]}function si(e,r,t,n,o){var a={string:e=>{var r=0;return null!=e&&0!==e&&(r=ot(e)),r},array:e=>{var r=_i(e.length);return ai(e,r),r}},i=ii(e),s=[],u=0;if(n)for(var c=0;c<n.length;c++){var l=a[t[c]];l?(0===u&&(u=xi()),s[c]=l(n[c])):s[c]=n[c]}var f=i.apply(null,s);return function(e){return 0!==u&&Ci(u),function(e){return"string"===r?he(e):"boolean"===r?Boolean(e):e}(e)}(f)}var ui=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=pe.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n};Object.defineProperties(ui.prototype,{read:{get:function(){return!(365&~this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return!(146&~this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return pe.isDir(this.mode)}},isDevice:{get:function(){return pe.isChrdev(this.mode)}}}),pe.FSNode=ui,pe.createPreloadedFile=function(e,r,t,n,o,i,s,u,c,l){var f=r?oe.resolve(te.join2(e,r)):e;function d(t){function a(t){l&&l(),u||pe.createDataFile(e,r,t,n,o,c),i&&i(),H()}(function(e,r,t,n){void 0!==Wr&&Wr.init();var o=!1;return me.forEach((function(a){o||a.canHandle(r)&&(a.handle(e,r,t,n),o=!0)})),o})(t,f,a,(()=>{s&&s(),H()}))||a(t)}q(),"string"==typeof t?function(e,r,t){var n=`al ${e}`;a(e,(r=>{F(r,`Loading data file "${e}" failed (no arrayBuffer).`),d(new Uint8Array(r)),n&&H()}),(r=>{if(!t)throw`Loading data file "${e}" failed.`;t()})),n&&q()}(t,0,s):d(t)},pe.staticInit(),r.FS_createPath=pe.createPath,r.FS_createDataFile=pe.createDataFile,r.FS_createPreloadedFile=pe.createPreloadedFile,r.FS_unlink=pe.unlink,r.FS_createLazyFile=pe.createLazyFile,r.FS_createDevice=pe.createDevice,xe=r.BindingError=ke(Error,"BindingError"),Ee.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Ee.reserved=Ee.allocated.length,r.count_emval_handles=function(){for(var e=0,r=Ee.reserved;r<Ee.allocated.length;++r)void 0!==Ee.allocated[r]&&++e;return e},Pe=r.PureVirtualError=ke(Error,"PureVirtualError"),function(){for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);Fe=e}(),r.getInheritedInstanceCount=function(){return Object.keys(Me).length},r.getLiveInheritedInstances=function(){var e=[];for(var r in Me)Me.hasOwnProperty(r)&&e.push(Me[r]);return e},r.flushPendingDeletes=Te,r.setDelayFunction=function(e){Ae=e,Le.length&&Ae&&Ae(Te)},qe=r.InternalError=ke(Error,"InternalError"),Ze.prototype.isAliasOf=function(e){if(!(this instanceof Ze))return!1;if(!(e instanceof Ze))return!1;for(var r=this.$$.ptrType.registeredClass,t=this.$$.ptr,n=e.$$.ptrType.registeredClass,o=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return r===n&&t===o},Ze.prototype.clone=function(){if(this.$$.ptr||Je(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e,r=We(Object.create(Object.getPrototypeOf(this),{$$:{value:(e=this.$$,{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType})}}));return r.$$.count.value+=1,r.$$.deleteScheduled=!1,r},Ze.prototype.delete=function(){this.$$.ptr||Je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ce("Object already scheduled for deletion"),Be(this),Ne(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},Ze.prototype.isDeleted=function(){return!this.$$.ptr},Ze.prototype.deleteLater=function(){return this.$$.ptr||Je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ce("Object already scheduled for deletion"),Le.push(this),1===Le.length&&Ae&&Ae(Te),this.$$.deleteScheduled=!0,this},ur.prototype.getPointee=function(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},ur.prototype.destructor=function(e){this.rawDestructor&&this.rawDestructor(e)},ur.prototype.argPackAdvance=8,ur.prototype.readValueFromPointer=sr,ur.prototype.deleteObject=function(e){null!==e&&e.delete()},ur.prototype.fromWireType=function(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=function(e,r){return r=$e(e,r),Me[r]}(this.registeredClass,r);if(void 0!==t){if(0===t.$$.count.value)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function o(){return this.isSmartPointer?Ge(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Ge(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var a,i=this.registeredClass.getActualType(r),s=Ue[i];if(!s)return o.call(this);a=this.isConst?s.constPointerType:s.pointerType;var u=ze(r,this.registeredClass,a.registeredClass);return null===u?o.call(this):this.isSmartPointer?Ge(a.registeredClass.instancePrototype,{ptrType:a,ptr:u,smartPtrType:this,smartPtr:e}):Ge(a.registeredClass.instancePrototype,{ptrType:a,ptr:u})},fr=r.UnboundTypeError=ke(Error,"UnboundTypeError"),r.requestFullscreen=function(e,r){Wr.requestFullscreen(e,r)},r.requestAnimationFrame=function(e){Wr.requestAnimationFrame(e)},r.setCanvasSize=function(e,r,t){Wr.setCanvasSize(e,r,t)},r.pauseMainLoop=function(){Wr.mainLoop.pause()},r.resumeMainLoop=function(){Wr.mainLoop.resume()},r.getUserMedia=function(){Wr.getUserMedia()},r.createContext=function(e,r,t,n){return Wr.createContext(e,r,t,n)};for(var ci,li={},fi={},di=0;di<32;++di)Mn.push(new Array(di));var mi=new Float32Array(288);for(di=0;di<288;++di)ga[di]=mi.subarray(0,di+1);var vi=new Int32Array(288);for(di=0;di<288;++di)ka[di]=vi.subarray(0,di+1);Ja.init();var pi,hi={f:function(e,r,t){throw new re(e).init(r,t),e},ha:function(e,r,t){ge.varargs=t;try{var n=ge.getStreamFromFD(e);switch(r){case 0:return(o=ge.get())<0?-28:pe.createStream(n,o).fd;case 1:case 2:case 6:case 7:return 0;case 3:return n.flags;case 4:var o=ge.get();return n.flags|=o,0;case 5:return o=ge.get(),b[o+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return k[wi()>>2]=28,-1}}catch(e){if(void 0===pe||"ErrnoError"!==e.name)throw e;return-e.errno}},rb:function(e,r,t){ge.varargs=t;try{var n=ge.getStreamFromFD(e);switch(r){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var o=ge.get();return k[o>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:return o=ge.get(),pe.ioctl(n,r,o);default:return-28}}catch(e){if(void 0===pe||"ErrnoError"!==e.name)throw e;return-e.errno}},sb:function(e,r,t,n){ge.varargs=n;try{r=ge.getStr(r),r=ge.calculateAt(e,r);var o=n?ge.get():0;return pe.open(r,t,o).fd}catch(e){if(void 0===pe||"ErrnoError"!==e.name)throw e;return-e.errno}},pb:function(e,r){try{return e=ge.getStr(e),ge.doStat(pe.stat,e,r)}catch(e){if(void 0===pe||"ErrnoError"!==e.name)throw e;return-e.errno}},Na:function(e,r,t){e=De(e),r=Oe(r,"wrapper"),t=_e(t);var n=[].slice,o=r.registeredClass,a=o.instancePrototype,i=o.baseClass.instancePrototype,s=o.baseClass.constructor,u=we(e,(function(){o.baseClass.pureVirtualFunctions.forEach(function(e){if(this[e]===i[e])throw new Pe(`Pure virtual function ${e} must be implemented in JavaScript`)}.bind(this)),Object.defineProperty(this,"__parent",{value:a}),this.__construct.apply(this,n.call(arguments))}));for(var c in a.__construct=function(){this===a&&Ce("Pass correct 'this' to __construct");var e=s.implement.apply(void 0,[this].concat(n.call(arguments)));Be(e);var r,t=e.$$;e.notifyOnDestruction(),t.preservePointerOnDelete=!0,Object.defineProperties(this,{$$:{value:t}}),We(this),r=$e(o,r=t.ptr),Me.hasOwnProperty(r)?Ce(`Tried to register registered instance: ${r}`):Me[r]=this},a.__destruct=function(){var e;this===a&&Ce("Pass correct 'this' to __destruct"),Be(this),e=$e(o,e=this.$$.ptr),Me.hasOwnProperty(e)?delete Me[e]:Ce(`Tried to unregister unregistered instance: ${e}`)},u.prototype=Object.create(a),t)u.prototype[c]=t[c];return Se(u)},gb:function(e,r,t,n,o){},Pg:function(e,r,t,n,o){var a=Ye(t);Ke(e,{name:r=De(r),fromWireType:function(e){return!!e},toWireType:function(e,r){return r?n:o},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===t)n=y;else if(2===t)n=b;else{if(4!==t)throw new TypeError("Unknown boolean type size: "+r);n=k}return this.fromWireType(n[e>>a])},destructorFunction:null})},d:function(e,r,t,n,o,a,i,s,u,c,l,f,d){l=De(l),a=lr(o,a),s&&(s=lr(i,s)),c&&(c=lr(u,c)),d=lr(f,d);var m=ye(l);rr(m,(function(){dr(`Cannot construct ${l} due to unbound types`,[n])})),Qe([e,r,t],n?[n]:[],(function(r){var t,o;r=r[0],o=n?(t=r.registeredClass).instancePrototype:Ze.prototype;var i=we(m,(function(){if(Object.getPrototypeOf(this)!==u)throw new xe("Use 'new' to construct "+l);if(void 0===f.constructor_body)throw new xe(l+" has no accessible constructor");var e=f.constructor_body[arguments.length];if(void 0===e)throw new xe(`Tried to invoke ctor of ${l} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(f.constructor_body).toString()}) parameters instead!`);return e.apply(this,arguments)})),u=Object.create(o,{constructor:{value:i}});i.prototype=u;var f=new tr(l,i,u,d,t,a,s,c);f.baseClass&&(void 0===f.baseClass.__derivedClasses&&(f.baseClass.__derivedClasses=[]),f.baseClass.__derivedClasses.push(f));var v=new ur(l,f,!0,!1,!1),p=new ur(l+"*",f,!1,!1,!1),h=new ur(l+" const*",f,!1,!0,!1);return Ue[e]={pointerType:p,constPointerType:h},cr(m,i),[v,p,h]}))},e:function(e,r,t,n,o,a,i,s){var u=pr(t,n);r=De(r),a=lr(o,a),Qe([],[e],(function(e){var n=`${(e=e[0]).name}.${r}`;function o(){dr(`Cannot call ${n} due to unbound types`,u)}r.startsWith("@@")&&(r=Symbol[r.substring(2)]);var s=e.registeredClass.constructor;return void 0===s[r]?(o.argCount=t-1,s[r]=o):(er(s,r,n),s[r].overloadTable[t-1]=o),Qe([],u,(function(o){var u=[o[0],null].concat(o.slice(1)),c=vr(n,u,null,a,i);if(void 0===s[r].overloadTable?(c.argCount=t-1,s[r]=c):s[r].overloadTable[t-1]=c,e.registeredClass.__derivedClasses)for(const t of e.registeredClass.__derivedClasses)t.constructor.hasOwnProperty(r)||(t.constructor[r]=c);return[]})),[]}))},g:function(e,r,t,n,o,a){F(r>0);var i=pr(r,t);o=lr(n,o),Qe([],[e],(function(e){var t=`constructor ${(e=e[0]).name}`;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[r-1])throw new xe(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.registeredClass.constructor_body[r-1]=()=>{dr(`Cannot construct ${e.name} due to unbound types`,i)},Qe([],i,(function(n){return n.splice(1,0,null),e.registeredClass.constructor_body[r-1]=vr(t,n,null,o,a),[]})),[]}))},a:function(e,r,t,n,o,a,i,s,u){var c=pr(t,n);r=De(r),a=lr(o,a),Qe([],[e],(function(e){var n=`${(e=e[0]).name}.${r}`;function o(){dr(`Cannot call ${n} due to unbound types`,c)}r.startsWith("@@")&&(r=Symbol[r.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(r);var u=e.registeredClass.instancePrototype,l=u[r];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===t-2?(o.argCount=t-2,o.className=e.name,u[r]=o):(er(u,r,n),u[r].overloadTable[t-2]=o),Qe([],c,(function(o){var s=vr(n,o,e,a,i);return void 0===u[r].overloadTable?(s.argCount=t-2,u[r]=s):u[r].overloadTable[t-2]=s,[]})),[]}))},c:function(e,r,t,n,o,a,i,s,u,c){r=De(r),o=lr(n,o),Qe([],[e],(function(e){var n=`${(e=e[0]).name}.${r}`,l={get:function(){dr(`Cannot access ${n} due to unbound types`,[t,i])},enumerable:!0,configurable:!0};return l.set=u?()=>{dr(`Cannot access ${n} due to unbound types`,[t,i])}:e=>{Ce(n+" is a read-only property")},Object.defineProperty(e.registeredClass.instancePrototype,r,l),Qe([],u?[t,i]:[t],(function(t){var i=t[0],l={get:function(){var r=hr(this,e,n+" getter");return i.fromWireType(o(a,r))},enumerable:!0};if(u){u=lr(s,u);var f=t[1];l.set=function(r){var t=hr(this,e,n+" setter"),o=[];u(c,t,f.toWireType(o,r)),mr(o)}}return Object.defineProperty(e.registeredClass.instancePrototype,r,l),[]})),[]}))},Og:function(e,r){Ke(e,{name:r=De(r),fromWireType:function(e){var r=_e(e);return gr(e),r},toWireType:function(e,r){return Se(r)},argPackAdvance:8,readValueFromPointer:sr,destructorFunction:null})},i:function(e,r,t,n){var o=Ye(t);function a(){}r=De(r),a.values={},Ke(e,{name:r,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,r){return r.value},argPackAdvance:8,readValueFromPointer:yr(r,o,n),destructorFunction:null}),rr(r,a)},b:function(e,r,t){var n=Oe(e,"enum");r=De(r);var o=n.constructor,a=Object.create(n.constructor.prototype,{value:{value:t},constructor:{value:we(`${n.name}_${r}`,(function(){}))}});o.values[t]=a,o[r]=a},oa:function(e,r,t){var n=Ye(t);Ke(e,{name:r=De(r),fromWireType:function(e){return e},toWireType:function(e,r){return r},argPackAdvance:8,readValueFromPointer:br(r,n),destructorFunction:null})},j:function(e,r,t,n,o,a,i){var s=pr(r,t);e=De(e),o=lr(n,o),rr(e,(function(){dr(`Cannot call ${e} due to unbound types`,s)}),r-1),Qe([],s,(function(t){var n=[t[0],null].concat(t.slice(1));return cr(e,vr(e,n,null,o,a),r-1),[]}))},r:function(e,r,t,n,o){r=De(r),-1===o&&(o=4294967295);var a=Ye(t),i=e=>e;if(0===n){var s=32-8*t;i=e=>e<<s>>>s}var u=r.includes("unsigned");Ke(e,{name:r,fromWireType:i,toWireType:u?function(e,r){return this.name,r>>>0}:function(e,r){return this.name,r},argPackAdvance:8,readValueFromPointer:Er(r,a,0!==n),destructorFunction:null})},k:function(e,r,t){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][r];function o(e){var r=x,t=r[e>>=2],o=r[e+1];return new n(r.buffer,o,t)}Ke(e,{name:t=De(t),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},na:function(e,r){var t="std::string"===(r=De(r));Ke(e,{name:r,fromWireType:function(e){var r,n=x[e>>2],o=e+4;if(t)for(var a=o,i=0;i<=n;++i){var s=o+i;if(i==n||0==w[s]){var u=he(a,s-a);void 0===r?r=u:(r+=String.fromCharCode(0),r+=u),a=s+1}}else{var c=new Array(n);for(i=0;i<n;++i)c[i]=String.fromCharCode(w[o+i]);r=c.join("")}return yi(e),r},toWireType:function(e,r){var n;r instanceof ArrayBuffer&&(r=new Uint8Array(r));var o="string"==typeof r;o||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||Ce("Cannot pass non-string to std::string"),n=t&&o?ae(r):r.length;var a=gi(4+n+1),i=a+4;if(x[a>>2]=n,t&&o)kr(r,i,n+1);else if(o)for(var s=0;s<n;++s){var u=r.charCodeAt(s);u>255&&(yi(i),Ce("String has UTF-16 code units that do not fit in 8 bits")),w[i+s]=u}else for(s=0;s<n;++s)w[i+s]=r[s];return null!==e&&e.push(yi,a),a},argPackAdvance:8,readValueFromPointer:sr,destructorFunction:function(e){yi(e)}})},S:function(e,r,t){var n,o,a,i,s;t=De(t),2===r?(n=Cr,o=_r,i=Sr,a=()=>E,s=1):4===r&&(n=Pr,o=Fr,i=Dr,a=()=>x,s=2),Ke(e,{name:t,fromWireType:function(e){for(var t,o=x[e>>2],i=a(),u=e+4,c=0;c<=o;++c){var l=e+4+c*r;if(c==o||0==i[l>>s]){var f=n(u,l-u);void 0===t?t=f:(t+=String.fromCharCode(0),t+=f),u=l+r}}return yi(e),t},toWireType:function(e,n){"string"!=typeof n&&Ce(`Cannot pass non-string to C++ string type ${t}`);var a=i(n),u=gi(4+a+r);return x[u>>2]=a>>s,o(n,u+4,a+r),null!==e&&e.push(yi,u),u},argPackAdvance:8,readValueFromPointer:sr,destructorFunction:function(e){yi(e)}})},Qg:function(e,r){Ke(e,{isVoid:!0,name:r=De(r),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,r){}})},Rg:function(e){if(Ja.xhrs.has(e)){var r=Ja.xhrs.get(e);Ja.xhrs.free(e),r.readyState>0&&r.readyState<4&&r.abort()}},tb:function(){return!0},ib:function(){throw 1/0},Z:function(e,r,t,n,o){return(e=Ar[e])(r=_e(r),t=Tr(t),function(e){var r=[];return x[e>>2]=Se(r),r}(n),o)},C:function(e,r,t,n){(e=Ar[e])(r=_e(r),t=Tr(t),null,n)},x:gr,u:function(e,r){var t=function(e,r){for(var t=new Array(e),n=0;n<e;++n)t[n]=Oe(x[r+4*n>>2],"parameter "+n);return t}(e,r),n=t[0],o=n.name+"_$"+t.slice(1).map((function(e){return e.name})).join("_")+"$",a=Mr[o];if(void 0!==a)return a;var i,s,u=new Array(e-1);return i=(r,o,a,i)=>{for(var s=0,c=0;c<e-1;++c)u[c]=t[c+1].readValueFromPointer(i+s),s+=t[c+1].argPackAdvance;var l=r[o].apply(r,u);for(c=0;c<e-1;++c)t[c+1].deleteObject&&t[c+1].deleteObject(u[c]);if(!n.isVoid)return n.toWireType(a,l)},s=Ar.length,Ar.push(i),a=s,Mr[o]=a,a},_:function(e){e>4&&(Ee.get(e).refcount+=1)},Y:function(e){mr(_e(e)),gr(e)},w:function(e,r){var t=(e=Oe(e,"_emval_take_value")).readValueFromPointer(r);return Se(t)},lb:function(e,r){var t,n=new Date(1e3*(x[(t=e)>>2]+4294967296*k[t+4>>2]));k[r>>2]=n.getSeconds(),k[r+4>>2]=n.getMinutes(),k[r+8>>2]=n.getHours(),k[r+12>>2]=n.getDate(),k[r+16>>2]=n.getMonth(),k[r+20>>2]=n.getFullYear()-1900,k[r+24>>2]=n.getDay();var o=0|function(e){return($r(e.getFullYear())?Ir:Or)[e.getMonth()]+e.getDate()-1}(n);k[r+28>>2]=o,k[r+36>>2]=-60*n.getTimezoneOffset();var a=new Date(n.getFullYear(),0,1),i=new Date(n.getFullYear(),6,1).getTimezoneOffset(),s=a.getTimezoneOffset(),u=0|(i!=s&&n.getTimezoneOffset()==Math.min(s,i));k[r+32>>2]=u},kb:function(e,r,t){var n=(new Date).getFullYear(),o=new Date(n,0,1),a=new Date(n,6,1),i=o.getTimezoneOffset(),s=a.getTimezoneOffset(),u=Math.max(i,s);function c(e){var r=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return r?r[1]:"GMT"}x[e>>2]=60*u,k[r>>2]=Number(i!=s);var l=c(o),f=c(a),d=Br(l),m=Br(f);s<i?(x[t>>2]=d,x[t+4>>2]=m):(x[t>>2]=m,x[t+4>>2]=d)},y:function(){G("")},kh:function(e){return 12448==e?(Yr.setErrorCode(12288),1):(Yr.setErrorCode(12300),0)},nh:function(e,r,t,n,o){return Yr.chooseConfig(e,r,t,n,o)},bh:function(e,t,n,o){if(62e3!=e)return Yr.setErrorCode(12296),0;for(var a=1;;){var i=k[o>>2];if(12440!=i){if(12344==i)break;return Yr.setErrorCode(12292),0}a=k[o+4>>2],o+=8}return a<2||a>3?(Yr.setErrorCode(12293),0):(Yr.contextAttributes.majorVersion=a-1,Yr.contextAttributes.minorVersion=0,Yr.context=Vr.createContext(r.canvas,Yr.contextAttributes),0!=Yr.context?(Yr.setErrorCode(12288),Vr.makeContextCurrent(Yr.context),r.useWebGL=!0,Wr.moduleContextCreatedCallbacks.forEach((function(e){e()})),Vr.makeContextCurrent(null),62004):(Yr.setErrorCode(12297),0))},dh:function(e,r,t,n){return 62e3!=e?(Yr.setErrorCode(12296),0):62002!=r?(Yr.setErrorCode(12293),0):(Yr.setErrorCode(12288),62006)},ch:function(e,r){return 62e3!=e?(Yr.setErrorCode(12296),0):62004!=r?(Yr.setErrorCode(12294),0):(Vr.deleteContext(Yr.context),Yr.setErrorCode(12288),Yr.currentContext==r&&(Yr.currentContext=0),1)},eh:function(e,r){return 62e3!=e?(Yr.setErrorCode(12296),0):62006!=r?(Yr.setErrorCode(12301),1):(Yr.currentReadSurface==r&&(Yr.currentReadSurface=0),Yr.currentDrawSurface==r&&(Yr.currentDrawSurface=0),Yr.setErrorCode(12288),1)},oh:function(e,r,t,n){if(62e3!=e)return Yr.setErrorCode(12296),0;if(62002!=r)return Yr.setErrorCode(12293),0;if(!n)return Yr.setErrorCode(12300),0;switch(Yr.setErrorCode(12288),t){case 12320:return k[n>>2]=Yr.contextAttributes.alpha?32:24,1;case 12321:return k[n>>2]=Yr.contextAttributes.alpha?8:0,1;case 12322:case 12323:case 12324:return k[n>>2]=8,1;case 12325:return k[n>>2]=Yr.contextAttributes.depth?24:0,1;case 12326:return k[n>>2]=Yr.contextAttributes.stencil?8:0,1;case 12327:case 12335:case 12340:return k[n>>2]=12344,1;case 12328:return k[n>>2]=62002,1;case 12329:case 12333:case 12334:case 12345:case 12346:case 12347:case 12349:case 12350:case 12354:return k[n>>2]=0,1;case 12330:case 12332:return k[n>>2]=4096,1;case 12331:return k[n>>2]=16777216,1;case 12337:return k[n>>2]=Yr.contextAttributes.antialias?4:0,1;case 12338:return k[n>>2]=Yr.contextAttributes.antialias?1:0,1;case 12339:case 12352:return k[n>>2]=4,1;case 12341:case 12342:case 12343:return k[n>>2]=-1,1;case 12348:return k[n>>2]=1,1;case 12351:return k[n>>2]=12430,1;default:return Yr.setErrorCode(12292),0}},La:function(e){return Yr.setErrorCode(12288),62e3},ah:function(){return Yr.errorCode},lh:function(e,r,t){return 62e3!=e?(Yr.setErrorCode(12296),0):(r&&(k[r>>2]=1),t&&(k[t>>2]=4),Yr.defaultDisplayInitialized=!0,Yr.setErrorCode(12288),1)},fh:function(e,r,t,n){return 62e3!=e?(Yr.setErrorCode(12296),0):0!=n&&62004!=n?(Yr.setErrorCode(12294),0):0!=t&&62006!=t||0!=r&&62006!=r?(Yr.setErrorCode(12301),0):(Vr.makeContextCurrent(n?Yr.context:null),Yr.currentContext=n,Yr.currentDrawSurface=r,Yr.currentReadSurface=t,Yr.setErrorCode(12288),1)},$g:function(e,r){if(62e3!=e)return Yr.setErrorCode(12296),0;if(Yr.setErrorCode(12288),Yr.stringCache[r])return Yr.stringCache[r];var t;switch(r){case 12371:t=Br("Emscripten");break;case 12372:t=Br("1.4 Emscripten EGL");break;case 12373:t=Br("");break;case 12429:t=Br("OpenGL_ES");break;default:return Yr.setErrorCode(12300),0}return Yr.stringCache[r]=t,t},gh:function(e,t){if(Yr.defaultDisplayInitialized)if(r.ctx){if(!r.ctx.isContextLost())return Yr.setErrorCode(12288),1;Yr.setErrorCode(12302)}else Yr.setErrorCode(12290);else Yr.setErrorCode(12289);return 0},hh:function(e,r){return 62e3!=e?(Yr.setErrorCode(12296),0):(0==r?jr(0,0):jr(1,r),Yr.setErrorCode(12288),1)},mh:function(e){return 62e3!=e?(Yr.setErrorCode(12296),0):(Yr.currentContext=0,Yr.currentReadSurface=0,Yr.currentDrawSurface=0,Yr.defaultDisplayInitialized=!1,Yr.setErrorCode(12288),1)},jh:function(){return Yr.setErrorCode(12288),1},ih:function(e){return Yr.setErrorCode(12288),1},z:function(e,r,t){return function(e,r,t){var n=Qr(r,t);return X[e].apply(null,n)}(e,r,t)},m:function(e,r,t){return function(e,r,t){var n=Qr(r,t);return X[e].apply(null,n)}(e,r,t)},ab:function(){Wr.mainLoop.pause(),Wr.mainLoop.func=null},R:function(){return Date.now()},Ug:function(){if(!Jr.fullscreenEnabled())return-1;Jr.removeDeferredCalls(lt);var e=rt[1];if(e.exitFullscreen)e.fullscreenElement&&e.exitFullscreen();else{if(!e.webkitExitFullscreen)return-1;e.webkitFullscreenElement&&e.webkitExitFullscreen()}return 0},Zg:function(){return Jr.removeDeferredCalls(ft),document.exitPointerLock?(document.exitPointerLock(),0):-1},B:function(){return devicePixelRatio},t:function(e,r,t){if(!(e=tt(e)))return-4;var n=ct(e);return _[r>>3]=n.width,_[t>>3]=n.height,0},W:function(e,r){return e<0||e>=Jr.lastGamepadState.length?-5:Jr.lastGamepadState[e]?(dt(r,Jr.lastGamepadState[e]),0):-7},Q:Rr,Ma:function(){return Jr.lastGamepadState.length},_g:function(e,r){k[e>>2]=screen.width,k[r>>2]=screen.height},tg:vt,sg:ht,ld:function(e,r){ci.beginQuery(e,Vr.queries[r])},Kg:function(e,r){ci.disjointTimerQueryExt.beginQueryEXT(e,Vr.queries[r])},Uc:function(e){ci.beginTransformFeedback(e)},rg:yt,pg:bt,Rc:function(e,r,t){ci.bindBufferBase(e,r,Vr.buffers[t])},Sc:function(e,r,t,n,o){ci.bindBufferRange(e,r,Vr.buffers[t],n,o)},og:kt,ng:function(e,r){ci.bindRenderbuffer(e,Vr.renderbuffers[r])},Xb:function(e,r){ci.bindSampler(e,Vr.samplers[r])},mg:Ct,Pb:function(e,r){ci.bindTransformFeedback(e,Vr.transformFeedbacks[r])},Zc:St,Cg:Pt,lg:Dt,kg:Tt,jg:function(e,r){ci.blendEquationSeparate(e,r)},ig:function(e,r){ci.blendFunc(e,r)},hg:Mt,ad:function(e,r,t,n,o,a,i,s,u,c){ci.blitFramebuffer(e,r,t,n,o,a,i,s,u,c)},gg:Rt,fg:function(e,r,t,n){Vr.currentContext.version>=2?t&&ci.bufferSubData(e,r,w,n,t):ci.bufferSubData(e,r,w.subarray(n,n+t))},eg:Ot,dg:jt,tc:function(e,r,t,n){ci.clearBufferfi(e,r,t,n)},uc:function(e,r,t){ci.clearBufferfv(e,r,C,t>>2)},wc:function(e,r,t){ci.clearBufferiv(e,r,k,t>>2)},vc:function(e,r,t){ci.clearBufferuiv(e,r,x,t>>2)},cg:zt,bg:function(e){ci.clearDepth(e)},ag:function(e){ci.clearStencil(e)},fc:function(e,r,t,n){var o=Ut(t,n);return ci.clientWaitSync(Vr.syncs[e],r,o)},$f:Ht,_f:Wt,Zf:Vt,rd:function(e,r,t,n,o,a,i,s,u){ci.currentPixelUnpackBufferBinding?ci.compressedTexImage3D(e,r,t,n,o,a,i,s,u):ci.compressedTexImage3D(e,r,t,n,o,a,i,w,u,s)},Yf:function(e,r,t,n,o,a,i,s,u){Vr.currentContext.version>=2?ci.currentPixelUnpackBufferBinding||!s?ci.compressedTexSubImage2D(e,r,t,n,o,a,i,s,u):ci.compressedTexSubImage2D(e,r,t,n,o,a,i,w,u,s):ci.compressedTexSubImage2D(e,r,t,n,o,a,i,u?w.subarray(u,u+s):null)},qd:function(e,r,t,n,o,a,i,s,u,c,l){ci.currentPixelUnpackBufferBinding?ci.compressedTexSubImage3D(e,r,t,n,o,a,i,s,u,c,l):ci.compressedTexSubImage3D(e,r,t,n,o,a,i,s,u,w,l,c)},rc:function(e,r,t,n,o){ci.copyBufferSubData(e,r,t,n,o)},Wf:function(e,r,t,n,o,a,i,s){ci.copyTexImage2D(e,r,t,n,o,a,i,s)},Vf:function(e,r,t,n,o,a,i,s){ci.copyTexSubImage2D(e,r,t,n,o,a,i,s)},sd:function(e,r,t,n,o,a,i,s,u){ci.copyTexSubImage3D(e,r,t,n,o,a,i,s,u)},Uf:Qt,Tf:Jt,Sf:en,Rf:tn,Qf:on,Pf:sn,nd:function(e,r){for(var t=0;t<e;t++){var n=k[r+4*t>>2],o=Vr.queries[n];o&&(ci.deleteQuery(o),Vr.queries[n]=null)}},Mg:function(e,r){for(var t=0;t<e;t++){var n=k[r+4*t>>2],o=Vr.queries[n];o&&(ci.disjointTimerQueryExt.deleteQueryEXT(o),Vr.queries[n]=null)}},Of:cn,_b:function(e,r){for(var t=0;t<e;t++){var n=k[r+4*t>>2],o=Vr.samplers[n];o&&(ci.deleteSampler(o),o.name=0,Vr.samplers[n]=null)}},Nf:fn,gc:function(e){if(e){var r=Vr.syncs[e];r?(ci.deleteSync(r),r.name=0,Vr.syncs[e]=null):Vr.recordError(1281)}},Mf:mn,Ob:function(e,r){for(var t=0;t<e;t++){var n=k[r+4*t>>2],o=Vr.transformFeedbacks[n];o&&(ci.deleteTransformFeedback(o),o.name=0,Vr.transformFeedbacks[n]=null)}},Yc:pn,Ag:hn,Lf:yn,Kf:bn,Jf:function(e,r){ci.depthRange(e,r)},If:kn,Hf:Cn,Gf:function(e){ci.disableVertexAttribArray(e)},Ff:Sn,kc:Fn,wg:Dn,xb:Ln,zd:Tn,yb:An,hd:Rn,xd:In,xg:On,Ef:jn,jc:zn,vg:Un,vb:qn,wb:Hn,yd:Gn,vd:function(e,r,t,n,o,a){Bn(e,n,o,a)},Df:Yn,Cf:Xn,kd:function(e){ci.endQuery(e)},Jg:function(e){ci.disjointTimerQueryExt.endQueryEXT(e)},Tc:function(){ci.endTransformFeedback()},ic:function(e,r){var t=ci.fenceSync(e,r);if(t){var n=Vr.getNewId(Vr.syncs);return t.name=n,Vr.syncs[n]=t,n}return 0},Bf:function(){ci.finish()},Af:function(){ci.flush()},zf:function(e,r,t,n){ci.framebufferRenderbuffer(e,r,t,Vr.renderbuffers[n])},yf:Kn,_c:function(e,r,t,n,o){ci.framebufferTextureLayer(e,r,Vr.textures[t],n,o)},xf:Zn,wf:to,uf:oo,od:function(e,r){eo(e,r,"createQuery",Vr.queries)},Ng:function(e,r){for(var t=0;t<e;t++){var n=ci.disjointTimerQueryExt.createQueryEXT();if(!n){for(Vr.recordError(1282);t<e;)k[r+4*t++>>2]=0;return}var o=Vr.getNewId(Vr.queries);n.name=o,Vr.queries[o]=n,k[r+4*t>>2]=o}},tf:function(e,r){eo(e,r,"createRenderbuffer",Vr.renderbuffers)},$b:function(e,r){eo(e,r,"createSampler",Vr.samplers)},rf:io,Nb:function(e,r){eo(e,r,"createTransformFeedback",Vr.transformFeedbacks)},Xc:uo,zg:co,vf:fo,qf:po,pf:go,mc:function(e,r,t,n,o){e=Vr.programs[e];var a=ci.getActiveUniformBlockName(e,r);if(a)if(o&&t>0){var i=kr(a,o,t);n&&(k[n>>2]=i)}else n&&(k[n>>2]=0)},nc:function(e,r,t,n){if(n)if(e=Vr.programs[e],35393!=t){var o=ci.getActiveUniformBlockParameter(e,r,t);if(null!==o)if(35395==t)for(var a=0;a<o.length;a++)k[n+4*a>>2]=o[a];else k[n>>2]=o}else{var i=ci.getActiveUniformBlockName(e,r);k[n>>2]=i.length+1}else Vr.recordError(1281)},pc:function(e,r,t,n,o){if(o)if(r>0&&0==t)Vr.recordError(1281);else{e=Vr.programs[e];for(var a=[],i=0;i<r;i++)a.push(k[t+4*i>>2]);var s=ci.getActiveUniforms(e,a,n);if(s){var u=s.length;for(i=0;i<u;i++)k[o+4*i>>2]=s[i]}}else Vr.recordError(1281)},of:function(e,r,t,n){var o=ci.getAttachedShaders(Vr.programs[e]),a=o.length;a>r&&(a=r),k[t>>2]=a;for(var i=0;i<a;++i){var s=Vr.shaders.indexOf(o[i]);k[n+4*i>>2]=s}},nf:function(e,r){return ci.getAttribLocation(Vr.programs[e],he(r))},mf:function(e,r){wo(e,r,4)},ac:function(e,r,t){t?yo(t,ci.getBufferParameter(e,r)):Vr.recordError(1281)},lf:function(e,r,t){t?k[t>>2]=ci.getBufferParameter(e,r):Vr.recordError(1281)},kf:function(){var e=ci.getError()||Vr.lastError;return Vr.lastError=0,e},jf:function(e,r){wo(e,r,2)},Gc:function(e,r){return ci.getFragDataLocation(Vr.programs[e],he(r))},hf:function(e,r,t,n){var o=ci.getFramebufferAttachmentParameter(e,r,t);(o instanceof WebGLRenderbuffer||o instanceof WebGLTexture)&&(o=0|o.name),k[n>>2]=o},bc:function(e,r,t){bo(e,r,t,1)},dc:function(e,r){wo(e,r,1)},Vc:function(e,r,t){bo(e,r,t,0)},ff:ko,Bb:function(e,r,t,n,o){if(n<0)Vr.recordError(1281);else if(o){var a=ci.getInternalformatParameter(e,r,t);if(null!==a)for(var i=0;i<a.length&&i<n;++i)k[o+4*i>>2]=a[i]}else Vr.recordError(1281)},Jb:function(e,r,t,n,o){Vr.recordError(1282)},df:Co,ef:So,Eg:Fo,Gg:Lo,Dg:To,id:function(e,r,t){if(t){var n,o=Vr.queries[e],a=ci.getQueryParameter(o,r);n="boolean"==typeof a?a?1:0:a,k[t>>2]=n}else Vr.recordError(1281)},Fg:Ao,jd:function(e,r,t){t?k[t>>2]=ci.getQuery(e,r):Vr.recordError(1281)},Hg:function(e,r,t){t?k[t>>2]=ci.disjointTimerQueryExt.getQueryEXT(e,r):Vr.recordError(1281)},cf:function(e,r,t){t?k[t>>2]=ci.getRenderbufferParameter(e,r):Vr.recordError(1281)},Rb:function(e,r,t){t?C[t>>2]=ci.getSamplerParameter(Vr.samplers[e],r):Vr.recordError(1281)},Sb:function(e,r,t){t?k[t>>2]=ci.getSamplerParameter(Vr.samplers[e],r):Vr.recordError(1281)},af:$o,$e:function(e,r,t,n){var o=ci.getShaderPrecisionFormat(e,r);k[t>>2]=o.rangeMin,k[t+4>>2]=o.rangeMax,k[n>>2]=o.precision},_e:function(e,r,t,n){var o=ci.getShaderSource(Vr.shaders[e]);if(o){var a=r>0&&n?kr(o,n,r):0;t&&(k[t>>2]=a)}},bf:Io,Ze:Bo,sc:function(e,r){if(Vr.currentContext.version<2)return Vr.recordError(1282),0;var t=Vr.stringiCache[e];if(t)return r<0||r>=t.length?(Vr.recordError(1281),0):t[r];if(7939===e){var n=ci.getSupportedExtensions()||[];return n=(n=n.concat(n.map((function(e){return"GL_"+e})))).map((function(e){return Br(e)})),t=Vr.stringiCache[e]=n,r<0||r>=t.length?(Vr.recordError(1281),0):t[r]}return Vr.recordError(1280),0},cc:function(e,r,t,n,o){if(t<0)Vr.recordError(1281);else if(o){var a=ci.getSyncParameter(Vr.syncs[e],r);null!==a&&(k[o>>2]=a,n&&(k[n>>2]=1))}else Vr.recordError(1281)},Ye:function(e,r,t){t?C[t>>2]=ci.getTexParameter(e,r):Vr.recordError(1281)},We:function(e,r,t){t?k[t>>2]=ci.getTexParameter(e,r):Vr.recordError(1281)},Pc:function(e,r,t,n,o,a,i){e=Vr.programs[e];var s=ci.getTransformFeedbackVarying(e,r);if(s){if(i&&t>0){var u=kr(s.name,i,t);n&&(k[n>>2]=u)}else n&&(k[n>>2]=0);o&&(k[o>>2]=s.size),a&&(k[a>>2]=s.type)}},oc:function(e,r){return ci.getUniformBlockIndex(Vr.programs[e],he(r))},qc:function(e,r,t,n){if(n)if(r>0&&(0==t||0==n))Vr.recordError(1281);else{e=Vr.programs[e];for(var o=[],a=0;a<r;a++)o.push(he(k[t+4*a>>2]));var i=ci.getUniformIndices(e,o);if(i){var s=i.length;for(a=0;a<s;a++)k[n+4*a>>2]=i[a]}}else Vr.recordError(1281)},Te:Uo,Ve:function(e,r,t){Ho(e,r,t,2)},Ue:function(e,r,t){Ho(e,r,t,0)},Hc:function(e,r,t){Ho(e,r,t,0)},Nc:Yo,Mc:Vo,Qe:function(e,r,t){t?k[t>>2]=ci.getVertexAttribOffset(e,r):Vr.recordError(1281)},Se:function(e,r,t){Go(e,r,t,2)},Re:function(e,r,t){Go(e,r,t,5)},Pe:function(e,r){ci.hint(e,r)},Gb:function(e,r,t){for(var n=Mn[r],o=0;o<r;o++)n[o]=k[t+4*o>>2];ci.invalidateFramebuffer(e,n)},Fb:function(e,r,t,n,o,a,i){for(var s=Mn[r],u=0;u<r;u++)s[u]=k[t+4*u>>2];ci.invalidateSubFramebuffer(e,s,n,o,a,i)},Oe:function(e){var r=Vr.buffers[e];return r?ci.isBuffer(r):0},Ne:function(e){return ci.isEnabled(e)},Le:function(e){var r=Vr.framebuffers[e];return r?ci.isFramebuffer(r):0},Ke:function(e){return(e=Vr.programs[e])?ci.isProgram(e):0},md:function(e){var r=Vr.queries[e];return r?ci.isQuery(r):0},Lg:function(e){var r=Vr.queries[e];return r?ci.disjointTimerQueryExt.isQueryEXT(r):0},Je:function(e){var r=Vr.renderbuffers[e];return r?ci.isRenderbuffer(r):0},Yb:function(e){var r=Vr.samplers[e];return r?ci.isSampler(r):0},Ie:function(e){var r=Vr.shaders[e];return r?ci.isShader(r):0},hc:function(e){return ci.isSync(Vr.syncs[e])},He:function(e){var r=Vr.textures[e];return r?ci.isTexture(r):0},Mb:function(e){return ci.isTransformFeedback(Vr.transformFeedbacks[e])},Wc:Qo,yg:Ko,Ge:Zo,Fe:ra,Lb:function(){ci.pauseTransformFeedback()},Ee:na,De:function(e,r){ci.polygonOffset(e,r)},Ib:function(e,r,t,n){Vr.recordError(1280)},Hb:function(e,r,t){Vr.recordError(1280)},Ig:function(e,r){ci.disjointTimerQueryExt.queryCounterEXT(Vr.queries[e],r)},wd:function(e){ci.readBuffer(e)},Ce:ua,Ae:function(){},ze:function(e,r,t,n){ci.renderbufferStorage(e,r,t,n)},$c:function(e,r,t,n,o){ci.renderbufferStorageMultisample(e,r,t,n,o)},Kb:function(){ci.resumeTransformFeedback()},ye:function(e,r){ci.sampleCoverage(e,!!r)},Ub:function(e,r,t){ci.samplerParameterf(Vr.samplers[e],r,t)},Tb:function(e,r,t){var n=C[t>>2];ci.samplerParameterf(Vr.samplers[e],r,n)},Wb:function(e,r,t){ci.samplerParameteri(Vr.samplers[e],r,t)},Vb:function(e,r,t){var n=k[t>>2];ci.samplerParameteri(Vr.samplers[e],r,n)},xe:la,we:function(e,r,t,n,o){Vr.recordError(1280)},ve:da,ue:function(e,r,t){ci.stencilFunc(e,r,t)},te:function(e,r,t,n){ci.stencilFuncSeparate(e,r,t,n)},se:function(e){ci.stencilMask(e)},re:function(e,r){ci.stencilMaskSeparate(e,r)},pe:function(e,r,t){ci.stencilOp(e,r,t)},oe:function(e,r,t,n){ci.stencilOpSeparate(e,r,t,n)},ne:va,ud:function(e,r,t,n,o,a,i,s,u,c){if(ci.currentPixelUnpackBufferBinding)ci.texImage3D(e,r,t,n,o,a,i,s,u,c);else if(c){var l=oa(u);ci.texImage3D(e,r,t,n,o,a,i,s,u,l,c>>aa(l))}else ci.texImage3D(e,r,t,n,o,a,i,s,u,null)},me:function(e,r,t){ci.texParameterf(e,r,t)},le:function(e,r,t){var n=C[t>>2];ci.texParameterf(e,r,n)},ke:ha,je:function(e,r,t){var n=k[t>>2];ci.texParameteri(e,r,n)},Db:function(e,r,t,n,o){ci.texStorage2D(e,r,t,n,o)},Cb:function(e,r,t,n,o,a){ci.texStorage3D(e,r,t,n,o,a)},ie:function(e,r,t,n,o,a,i,s,u){if(Vr.currentContext.version>=2)if(ci.currentPixelUnpackBufferBinding)ci.texSubImage2D(e,r,t,n,o,a,i,s,u);else if(u){var c=oa(s);ci.texSubImage2D(e,r,t,n,o,a,i,s,c,u>>aa(c))}else ci.texSubImage2D(e,r,t,n,o,a,i,s,null);else{var l=null;u&&(l=ia(s,i,o,a,u)),ci.texSubImage2D(e,r,t,n,o,a,i,s,l)}},td:function(e,r,t,n,o,a,i,s,u,c,l){if(ci.currentPixelUnpackBufferBinding)ci.texSubImage3D(e,r,t,n,o,a,i,s,u,c,l);else if(l){var f=oa(c);ci.texSubImage3D(e,r,t,n,o,a,i,s,u,c,f,l>>aa(f))}else ci.texSubImage3D(e,r,t,n,o,a,i,s,u,c,null)},Qc:function(e,r,t,n){e=Vr.programs[e];for(var o=[],a=0;a<r;a++)o.push(he(k[t+4*a>>2]));ci.transformFeedbackVaryings(e,o,n)},he:function(e,r){ci.uniform1f(qo(e),r)},ge:wa,ee:Ea,de:function(e,r,t){if(Vr.currentContext.version>=2)r&&ci.uniform1iv(qo(e),k,t>>2,r);else{if(r<=288)for(var n=ka[r-1],o=0;o<r;++o)n[o]=k[t+4*o>>2];else n=k.subarray(t>>2,t+4*r>>2);ci.uniform1iv(qo(e),n)}},Fc:function(e,r){ci.uniform1ui(qo(e),r)},Ac:function(e,r,t){r&&ci.uniform1uiv(qo(e),x,t>>2,r)},ce:function(e,r,t){ci.uniform2f(qo(e),r,t)},be:Ca,ae:function(e,r,t){ci.uniform2i(qo(e),r,t)},$d:function(e,r,t){if(Vr.currentContext.version>=2)r&&ci.uniform2iv(qo(e),k,t>>2,2*r);else{if(r<=144)for(var n=ka[2*r-1],o=0;o<2*r;o+=2)n[o]=k[t+4*o>>2],n[o+1]=k[t+(4*o+4)>>2];else n=k.subarray(t>>2,t+8*r>>2);ci.uniform2iv(qo(e),n)}},Ec:function(e,r,t){ci.uniform2ui(qo(e),r,t)},zc:function(e,r,t){r&&ci.uniform2uiv(qo(e),x,t>>2,2*r)},_d:function(e,r,t,n){ci.uniform3f(qo(e),r,t,n)},Zd:Sa,Yd:function(e,r,t,n){ci.uniform3i(qo(e),r,t,n)},Xd:function(e,r,t){if(Vr.currentContext.version>=2)r&&ci.uniform3iv(qo(e),k,t>>2,3*r);else{if(r<=96)for(var n=ka[3*r-1],o=0;o<3*r;o+=3)n[o]=k[t+4*o>>2],n[o+1]=k[t+(4*o+4)>>2],n[o+2]=k[t+(4*o+8)>>2];else n=k.subarray(t>>2,t+12*r>>2);ci.uniform3iv(qo(e),n)}},Dc:function(e,r,t,n){ci.uniform3ui(qo(e),r,t,n)},yc:function(e,r,t){r&&ci.uniform3uiv(qo(e),x,t>>2,3*r)},Vd:function(e,r,t,n,o){ci.uniform4f(qo(e),r,t,n,o)},Ud:Fa,Td:function(e,r,t,n,o){ci.uniform4i(qo(e),r,t,n,o)},Sd:function(e,r,t){if(Vr.currentContext.version>=2)r&&ci.uniform4iv(qo(e),k,t>>2,4*r);else{if(r<=72)for(var n=ka[4*r-1],o=0;o<4*r;o+=4)n[o]=k[t+4*o>>2],n[o+1]=k[t+(4*o+4)>>2],n[o+2]=k[t+(4*o+8)>>2],n[o+3]=k[t+(4*o+12)>>2];else n=k.subarray(t>>2,t+16*r>>2);ci.uniform4iv(qo(e),n)}},Bc:function(e,r,t,n,o){ci.uniform4ui(qo(e),r,t,n,o)},xc:function(e,r,t){r&&ci.uniform4uiv(qo(e),x,t>>2,4*r)},lc:function(e,r,t){e=Vr.programs[e],ci.uniformBlockBinding(e,r,t)},Rd:function(e,r,t,n){if(Vr.currentContext.version>=2)r&&ci.uniformMatrix2fv(qo(e),!!t,C,n>>2,4*r);else{if(r<=72)for(var o=ga[4*r-1],a=0;a<4*r;a+=4)o[a]=C[n+4*a>>2],o[a+1]=C[n+(4*a+4)>>2],o[a+2]=C[n+(4*a+8)>>2],o[a+3]=C[n+(4*a+12)>>2];else o=C.subarray(n>>2,n+16*r>>2);ci.uniformMatrix2fv(qo(e),!!t,o)}},gd:function(e,r,t,n){r&&ci.uniformMatrix2x3fv(qo(e),!!t,C,n>>2,6*r)},ed:function(e,r,t,n){r&&ci.uniformMatrix2x4fv(qo(e),!!t,C,n>>2,8*r)},Qd:function(e,r,t,n){if(Vr.currentContext.version>=2)r&&ci.uniformMatrix3fv(qo(e),!!t,C,n>>2,9*r);else{if(r<=32)for(var o=ga[9*r-1],a=0;a<9*r;a+=9)o[a]=C[n+4*a>>2],o[a+1]=C[n+(4*a+4)>>2],o[a+2]=C[n+(4*a+8)>>2],o[a+3]=C[n+(4*a+12)>>2],o[a+4]=C[n+(4*a+16)>>2],o[a+5]=C[n+(4*a+20)>>2],o[a+6]=C[n+(4*a+24)>>2],o[a+7]=C[n+(4*a+28)>>2],o[a+8]=C[n+(4*a+32)>>2];else o=C.subarray(n>>2,n+36*r>>2);ci.uniformMatrix3fv(qo(e),!!t,o)}},fd:function(e,r,t,n){r&&ci.uniformMatrix3x2fv(qo(e),!!t,C,n>>2,6*r)},cd:function(e,r,t,n){r&&ci.uniformMatrix3x4fv(qo(e),!!t,C,n>>2,12*r)},Pd:La,dd:function(e,r,t,n){r&&ci.uniformMatrix4x2fv(qo(e),!!t,C,n>>2,8*r)},bd:function(e,r,t,n){r&&ci.uniformMatrix4x3fv(qo(e),!!t,C,n>>2,12*r)},Od:Aa,Nd:function(e){ci.validateProgram(Vr.programs[e])},Md:function(e,r){ci.vertexAttrib1f(e,r)},Kd:function(e,r){ci.vertexAttrib1f(e,C[r>>2])},Jd:function(e,r,t){ci.vertexAttrib2f(e,r,t)},Id:function(e,r){ci.vertexAttrib2f(e,C[r>>2],C[r+4>>2])},Hd:function(e,r,t,n){ci.vertexAttrib3f(e,r,t,n)},Gd:function(e,r){ci.vertexAttrib3f(e,C[r>>2],C[r+4>>2],C[r+8>>2])},Fd:function(e,r,t,n,o){ci.vertexAttrib4f(e,r,t,n,o)},Ed:function(e,r){ci.vertexAttrib4f(e,C[r>>2],C[r+4>>2],C[r+8>>2],C[r+12>>2])},Qb:$a,ug:Ra,zb:Ia,Bd:Oa,Ab:Ba,Lc:function(e,r,t,n,o){ci.vertexAttribI4i(e,r,t,n,o)},Jc:function(e,r){ci.vertexAttribI4i(e,k[r>>2],k[r+4>>2],k[r+8>>2],k[r+12>>2])},Kc:function(e,r,t,n,o){ci.vertexAttribI4ui(e,r,t,n,o)},Ic:function(e,r){ci.vertexAttribI4ui(e,x[r>>2],x[r+4>>2],x[r+8>>2],x[r+12>>2])},Oc:function(e,r,t,n,o){ci.vertexAttribIPointer(e,r,t,n,o)},Dd:Na,Cd:Ua,ec:function(e,r,t,n){var o=Ut(t,n);ci.waitSync(Vr.syncs[e],r,o)},L:function(){return 0},Tg:function(){return!0},Vg:function(e,r,t){return function(e,r){return Jr.fullscreenEnabled()?(e=tt(e))?e.requestFullscreen||e.webkitRequestFullscreen?Jr.canPerformEventHandlerRequests()?lt(e,r):r.deferUntilInEventHandler?(Jr.deferCall(lt,1,[e,r]),1):-2:-3:-4:-1}(e,{scaleMode:k[t>>2],canvasResolutionScaleMode:k[t+4>>2],filteringMode:k[t+8>>2],deferUntilInEventHandler:r,canvasResizedCallback:k[t+12>>2],canvasResizedCallbackUserData:k[t+16>>2]})},Ka:function(e,r){return(e=tt(e))?e.requestPointerLock?Jr.canPerformEventHandlerRequests()?ft(e):r?(Jr.deferCall(ft,2,[e]),1):-2:-1:-4},jb:function(e){var r=w.length,t=2147483648;if((e>>>=0)>t)return!1;for(var n,o=1;o<=4;o*=2){var a=r*(1+.2/o);if(a=Math.min(a,e+100663296),qa(Math.min(t,(n=Math.max(e,a))+(65536-n%65536)%65536)))return!0}return!1},X:function(){return(Jr.lastGamepadState=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null)?0:-1},qa:function(e,r,t){return"undefined"==typeof onbeforeunload?-1:1!==t?-5:function(e,r,t,n){var o={target:tt(2),eventTypeString:"beforeunload",callbackfunc:n,handlerFunc:function(e=event){var t=J(n)(28,0,r);if(t&&(t=he(t)),t)return e.preventDefault(),e.returnValue=t,t},useCapture:!0};return Jr.registerOrRemoveHandler(o)}(0,e,0,r)},Ca:function(e,r,t,n,o){return Ha(e,r,t,n,12,"blur")},A:it,T:function(e,r,t){return(e=tt(e))?(e.style.width=r+"px",e.style.height=t+"px",0):-4},Da:function(e,r,t,n,o){return Ha(e,r,t,n,13,"focus")},ta:function(e,r,t,n,o){return Jr.fullscreenEnabled()?(e=tt(e))?(Ga(e,r,t,n,19,"webkitfullscreenchange"),Ga(e,r,t,n,19,"fullscreenchange")):-4:-1},V:function(e,r,t,n){return navigator.getGamepads||navigator.webkitGetGamepads?Wa(2,e,r,t,26,"gamepadconnected"):-1},U:function(e,r,t,n){return navigator.getGamepads||navigator.webkitGetGamepads?Wa(2,e,r,t,27,"gamepaddisconnected"):-1},wa:function(e,r,t,n,o){return Ya(e,r,t,n,2,"keydown")},ua:function(e,r,t,n,o){return Ya(e,r,t,n,1,"keypress")},va:function(e,r,t,n,o){return Ya(e,r,t,n,3,"keyup")},Ua:function(e,r,t){Nr(J(e),r,t)},Ia:function(e,r,t,n,o){return Xa(e,r,t,n,5,"mousedown")},Ga:function(e,r,t,n,o){return Xa(e,r,t,n,33,"mouseenter")},Fa:function(e,r,t,n,o){return Xa(e,r,t,n,34,"mouseleave")},Ja:function(e,r,t,n,o){return Xa(e,r,t,n,8,"mousemove")},Ha:function(e,r,t,n,o){return Xa(e,r,t,n,6,"mouseup")},xa:function(e,r,t,n,o){return document&&document.body&&(document.body.requestPointerLock||document.body.mozRequestPointerLock||document.body.webkitRequestPointerLock||document.body.msRequestPointerLock)?(e=tt(e))?(Qa(e,r,t,n,20,"mozpointerlockchange"),Qa(e,r,t,n,20,"webkitpointerlockchange"),Qa(e,r,t,n,20,"mspointerlockchange"),Qa(e,r,t,n,20,"pointerlockchange")):-4:-1},sa:function(e,r,t,n,o){return function(e,r,t,n){Jr.uiEvent||(Jr.uiEvent=gi(36));var o={target:e=tt(e),eventTypeString:"resize",callbackfunc:n,handlerFunc:function(t=event){if(t.target==e){var o=document.body;if(o){var a=Jr.uiEvent;k[a>>2]=t.detail,k[a+4>>2]=o.clientWidth,k[a+8>>2]=o.clientHeight,k[a+12>>2]=innerWidth,k[a+16>>2]=innerHeight,k[a+20>>2]=outerWidth,k[a+24>>2]=outerHeight,k[a+28>>2]=pageXOffset,k[a+32>>2]=pageYOffset,J(n)(10,a,r)&&t.preventDefault()}}},useCapture:t};return Jr.registerOrRemoveHandler(o)}(e,r,t,n)},ya:function(e,r,t,n,o){return Ka(e,r,t,n,25,"touchcancel")},Aa:function(e,r,t,n,o){return Ka(e,r,t,n,23,"touchend")},za:function(e,r,t,n,o){return Ka(e,r,t,n,24,"touchmove")},Ba:function(e,r,t,n,o){return Ka(e,r,t,n,22,"touchstart")},ra:function(e,r,t,n){return function(e,r,t,n,o,a){Jr.visibilityChangeEvent||(Jr.visibilityChangeEvent=gi(8));var i={target:e,eventTypeString:a,callbackfunc:n,handlerFunc:function(e=event){var t,a,i=Jr.visibilityChangeEvent;t=i,a=["hidden","visible","prerender","unloaded"].indexOf(document.visibilityState),k[t>>2]=document.hidden,k[t+4>>2]=a,J(n)(o,i,r)&&e.preventDefault()},useCapture:t};return Jr.registerOrRemoveHandler(i)}(rt[1],e,r,t,21,"visibilitychange")},Ea:function(e,r,t,n,o){return(e=tt(e))?void 0!==e.onwheel?function(e,r,t,n){Jr.wheelEvent||(Jr.wheelEvent=gi(104));var o={target:e,allowsDeferredCalls:!0,eventTypeString:"wheel",callbackfunc:n,handlerFunc:function(t=event){var o=Jr.wheelEvent;Va(o,t,e),_[o+72>>3]=t.deltaX,_[o+80>>3]=t.deltaY,_[o+88>>3]=t.deltaZ,k[o+96>>2]=t.deltaMode,J(n)(9,o,r)&&t.preventDefault()},useCapture:t};return Jr.registerOrRemoveHandler(o)}(e,r,t,n):-1:-4},Wg:function(e){i(he(e))},K:function(){throw"Please compile your program with async support in order to use asynchronous operations like emscripten_sleep"},Sg:function(e,r,t,n,o){var a=e+112,i=x[a+36>>2],s=x[a+40>>2],u=x[a+44>>2],c=x[a+48>>2],l=x[a+52>>2],f=!!(64&l);function d(e){f?e():Hr(e)}var m=(e,t,n)=>{d((()=>{i?J(i)(e):r&&r(e)}))},v=(e,r,t)=>{d((()=>{u?J(u)(e):n&&n(e)}))},p=(e,r,n)=>{d((()=>{s?J(s)(e):t&&t(e)}))},h=(e,r,t)=>{d((()=>{c?J(c)(e):o&&o(e)}))},g=(e,t,n)=>{ei(Ja.dbInstance,e,t.response,((e,t,n)=>{d((()=>{i?J(i)(e):r&&r(e)}))}),((e,t,n)=>{d((()=>{i?J(i)(e):r&&r(e)}))}))},y=he(a+0),b=!!(16&l),k=!!(4&l),C=!!(32&l);if("EM_IDB_STORE"===y){var _=x[a+84>>2],S=x[a+88>>2];ei(Ja.dbInstance,e,w.slice(_,_+S),m,p)}else if("EM_IDB_DELETE"===y)!function(e,r,t,n){if(e){var o=x[r+112+64>>2];o||(o=x[r+8>>2]);var a=he(o);try{var i=e.transaction(["FILES"],"readwrite").objectStore("FILES").delete(a);i.onsuccess=e=>{var n=e.target.result;x[r+12>>2]=0,yo(r+16,0),yo(r+24,0),yo(r+32,0),E[r+40>>1]=4,E[r+42>>1]=200,kr("OK",r+44,64),t(r,0,n)},i.onerror=e=>{E[r+40>>1]=4,E[r+42>>1]=404,kr("Not Found",r+44,64),n(r,0,e)}}catch(e){n(r,0,e)}}else n(r,0,"IndexedDB not available!")}(Ja.dbInstance,e,m,p);else if(b){if(C)return 0;Za(e,k?g:m,p,v,h)}else!function(e,r,t,n){if(e){var o=x[r+112+64>>2];o||(o=x[r+8>>2]);var a=he(o);try{var i=e.transaction(["FILES"],"readonly").objectStore("FILES").get(a);i.onsuccess=e=>{if(e.target.result){var o=e.target.result,a=o.byteLength||o.length,i=gi(a);w.set(new Uint8Array(o),i),x[r+12>>2]=i,yo(r+16,a),yo(r+24,0),yo(r+32,a),E[r+40>>1]=4,E[r+42>>1]=200,kr("OK",r+44,64),t(r,0,o)}else E[r+40>>1]=4,E[r+42>>1]=404,kr("Not Found",r+44,64),n(r,0,"no data")},i.onerror=e=>{E[r+40>>1]=4,E[r+42>>1]=404,kr("Not Found",r+44,64),n(r,0,e)}}catch(e){n(r,0,e)}}else n(r,0,"IndexedDB not available!")}(Ja.dbInstance,e,m,C?p:k?(e,r,t)=>{Za(e,g,p,v,h)}:(e,r,t)=>{Za(e,m,p,v,h)});return e},mb:function(e,r){var t=0;return ti().forEach((function(n,o){var a=r+t;x[e+4*o>>2]=a,function(e,r){for(var t=0;t<e.length;++t)y[0|r++]=e.charCodeAt(t);y[0|r]=0}(n,a),t+=n.length+1})),0},ob:function(e,r){var t=ti();x[e>>2]=t.length;var n=0;return t.forEach((function(e){n+=e.length+1})),x[r>>2]=n,0},ia:function(e){try{var r=ge.getStreamFromFD(e);return pe.close(r),0}catch(e){if(void 0===pe||"ErrnoError"!==e.name)throw e;return e.errno}},qb:function(e,r,t,n){try{var o=function(e,r,t,n){for(var o=0,a=0;a<t;a++){var i=x[r>>2],s=x[r+4>>2];r+=8;var u=pe.read(e,y,i,s,n);if(u<0)return-1;if(o+=u,u<s)break;void 0!==n&&(n+=u)}return o}(ge.getStreamFromFD(e),r,t);return x[n>>2]=o,0}catch(e){if(void 0===pe||"ErrnoError"!==e.name)throw e;return e.errno}},fb:function(e,r,t,n,o){try{var a=(u=t)+2097152>>>0<4194305-!!(s=r)?(s>>>0)+4294967296*u:NaN;if(isNaN(a))return 61;var i=ge.getStreamFromFD(e);return pe.llseek(i,a,n),j=[i.position>>>0,(B=i.position,+Math.abs(B)>=1?B>0?+Math.floor(B/4294967296)>>>0:~~+Math.ceil((B-+(~~B>>>0))/4294967296)>>>0:0)],k[o>>2]=j[0],k[o+4>>2]=j[1],i.getdents&&0===a&&0===n&&(i.getdents=null),0}catch(e){if(void 0===pe||"ErrnoError"!==e.name)throw e;return e.errno}var s,u},ga:function(e,r,t,n){try{var o=function(e,r,t,n){for(var o=0,a=0;a<t;a++){var i=x[r>>2],s=x[r+4>>2];r+=8;var u=pe.write(e,y,i,s,n);if(u<0)return-1;o+=u,void 0!==n&&(n+=u)}return o}(ge.getStreamFromFD(e),r,t);return x[n>>2]=o,0}catch(e){if(void 0===pe||"ErrnoError"!==e.name)throw e;return e.errno}},Oa:function(){var e="";"undefined"!=typeof window?e=window.location.hostname:"undefined"!=typeof process&&(e="node");var r=ae(e)+1,t=gi(r);return kr(e,t,r),t},_a:mt,ja:pt,l:gt,n:wt,s:Et,p:xt,fe:Ft,Wd:Lt,qe:At,N:$t,aa:It,qg:Bt,Bg:Nt,pd:qt,Xa:Gt,J:Yt,Cc:Xt,Za:Kt,sf:Zt,E:rn,Xg:nn,la:an,pa:un,da:ln,Va:dn,Be:gn,Me:wn,ma:En,H:xn,$:_n,M:Bn,Pa:Nn,G:Wn,Sa:Vn,P:Qn,gf:Jn,O:ro,ba:no,D:ao,Yg:lo,eb:vo,ub:ho,q:Eo,Eb:xo,F:_o,Wa:Mo,ca:Ro,v:Oo,nb:zo,Xe:Jo,Zb:ea,Ta:ta,Ld:sa,Ad:ca,Ya:fa,o:ma,h:pa,db:ya,$a:ba,cb:xa,bb:_a,fa:Pa,ea:Da,ka:Ta,Qa:Ma,Ra:ja,I:za,ph:function(e,r,t){var n=xi();try{return J(e)(r,t)}catch(e){if(Ci(n),e!==e+0)throw e;ki(1,0)}},qh:function(e,r,t,n){var o=xi();try{return J(e)(r,t,n)}catch(e){if(Ci(o),e!==e+0)throw e;ki(1,0)}},Xf:function(e,r,t,n,o){var a=xi();try{return J(e)(r,t,n,o)}catch(e){if(Ci(a),e!==e+0)throw e;ki(1,0)}},hb:function(e,r,t,n,o){return function(e,r,t,n){var o=k[n+40>>2],a={tm_sec:k[n>>2],tm_min:k[n+4>>2],tm_hour:k[n+8>>2],tm_mday:k[n+12>>2],tm_mon:k[n+16>>2],tm_year:k[n+20>>2],tm_wday:k[n+24>>2],tm_yday:k[n+28>>2],tm_isdst:k[n+32>>2],tm_gmtoff:k[n+36>>2],tm_zone:o?he(o):""},i=he(t),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)i=i.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,r,t){for(var n="number"==typeof e?e.toString():e||"";n.length<r;)n=t[0]+n;return n}function d(e,r){return f(e,r,"0")}function m(e,r){function t(e){return e<0?-1:e>0?1:0}var n;return 0===(n=t(e.getFullYear()-r.getFullYear()))&&0===(n=t(e.getMonth()-r.getMonth()))&&(n=t(e.getDate()-r.getDate())),n}function v(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function p(e){var r=function(e,r){for(var t=new Date(e.getTime());r>0;){var n=$r(t.getFullYear()),o=t.getMonth(),a=(n?ni:oi)[o];if(!(r>a-t.getDate()))return t.setDate(t.getDate()+r),t;r-=a-t.getDate()+1,t.setDate(1),o<11?t.setMonth(o+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return t}(new Date(e.tm_year+1900,0,1),e.tm_yday),t=new Date(r.getFullYear(),0,4),n=new Date(r.getFullYear()+1,0,4),o=v(t),a=v(n);return m(o,r)<=0?m(a,r)<=0?r.getFullYear()+1:r.getFullYear():r.getFullYear()-1}var h={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return d((e.tm_year+1900)/100|0,2)},"%d":function(e){return d(e.tm_mday,2)},"%e":function(e){return f(e.tm_mday,2," ")},"%g":function(e){return p(e).toString().substring(2)},"%G":function(e){return p(e)},"%H":function(e){return d(e.tm_hour,2)},"%I":function(e){var r=e.tm_hour;return 0==r?r=12:r>12&&(r-=12),d(r,2)},"%j":function(e){return d(e.tm_mday+function(e,r){for(var t=0,n=0;n<=r;t+=e[n++]);return t}($r(e.tm_year+1900)?ni:oi,e.tm_mon-1),3)},"%m":function(e){return d(e.tm_mon+1,2)},"%M":function(e){return d(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return d(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var r=e.tm_yday+7-e.tm_wday;return d(Math.floor(r/7),2)},"%V":function(e){var r=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&r++,r){if(53==r){var t=(e.tm_wday+371-e.tm_yday)%7;4==t||3==t&&$r(e.tm_year)||(r=1)}}else{r=52;var n=(e.tm_wday+7-e.tm_yday-1)%7;(4==n||5==n&&$r(e.tm_year%400-1))&&r++}return d(r,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var r=e.tm_yday+7-(e.tm_wday+6)%7;return d(Math.floor(r/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var r=e.tm_gmtoff,t=r>=0;return r=(r=Math.abs(r)/60)/60*100+r%60,(t?"+":"-")+String("0000"+r).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var u in i=i.replace(/%%/g,"\0\0"),h)i.includes(u)&&(i=i.replace(new RegExp(u,"g"),h[u](a)));var g=se(i=i.replace(/\0\0/g,"%"),!1);return g.length>r?0:(ai(g,e),g.length-1)}(e,r,t,n)}},gi=(function(){var e,t,o,a,i={a:hi};function s(e,t){var n,o=e.exports;return r.asm=o,p=r.asm.rh,D(),S=r.asm.wh,n=r.asm.sh,T.unshift(n),H(),o}if(q(),r.instantiateWasm)try{return r.instantiateWasm(i,s)}catch(e){v("Module.instantiateWasm callback failed with error: "+e),n(e)}(e=d,t=I,o=i,a=function(e){s(e.instance)},e||"function"!=typeof WebAssembly.instantiateStreaming||W(t)||"function"!=typeof fetch?V(t,o,a):fetch(t,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,o).then(a,(function(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),V(t,o,a)}))))).catch(n)}(),r._malloc=function(){return(gi=r._malloc=r.asm.th).apply(null,arguments)}),yi=r._free=function(){return(yi=r._free=r.asm.uh).apply(null,arguments)},wi=function(){return(wi=r.asm.vh).apply(null,arguments)},bi=(r._SCRTFillActiveTextureCharArray=function(){return(r._SCRTFillActiveTextureCharArray=r.asm.xh).apply(null,arguments)},r._main=function(){return(bi=r._main=r.asm.yh).apply(null,arguments)}),Ei=function(){return(Ei=r.asm.zh).apply(null,arguments)},ki=(r.__embind_initialize_bindings=function(){return(r.__embind_initialize_bindings=r.asm.Ah).apply(null,arguments)},r._setThrew=function(){return(ki=r._setThrew=r.asm.Bh).apply(null,arguments)}),xi=function(){return(xi=r.asm.Ch).apply(null,arguments)},Ci=function(){return(Ci=r.asm.Dh).apply(null,arguments)},_i=function(){return(_i=r.asm.Eh).apply(null,arguments)},Si=function(){return(Si=r.asm.Fh).apply(null,arguments)};function Pi(e=[]){var r=bi;e.unshift(c);var t=e.length,n=_i(4*(t+1)),o=n>>2;e.forEach((e=>{k[o++]=ot(e)})),k[o]=0;try{var a=r(t,n);return Ur(a),a}catch(e){return zr(e)}}function Fi(e=u){function n(){pi||(pi=!0,r.calledRun=!0,P||(r.noFSInit||pe.init.initialized||pe.init(),pe.ignorePermissions=!1,le.init(),K(T),K(A),t(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Di&&Pi(e),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)e=r.postRun.shift(),$.unshift(e);var e;K($)}()))}N>0||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)e=r.preRun.shift(),L.unshift(e);var e;K(L)}(),N>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),n()}),1)):n()))}if(r.dynCall_iiiji=function(){return(r.dynCall_iiiji=r.asm.Gh).apply(null,arguments)},r.dynCall_iiij=function(){return(r.dynCall_iiij=r.asm.Hh).apply(null,arguments)},r.dynCall_iijii=function(){return(r.dynCall_iijii=r.asm.Ih).apply(null,arguments)},r.dynCall_iiijiji=function(){return(r.dynCall_iiijiji=r.asm.Jh).apply(null,arguments)},r.dynCall_vij=function(){return(r.dynCall_vij=r.asm.Kh).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.Lh).apply(null,arguments)},r.dynCall_ji=function(){return(r.dynCall_ji=r.asm.Mh).apply(null,arguments)},r.dynCall_viijii=function(){return(r.dynCall_viijii=r.asm.Nh).apply(null,arguments)},r.dynCall_iiiiij=function(){return(r.dynCall_iiiiij=r.asm.Oh).apply(null,arguments)},r.dynCall_iiiiijj=function(){return(r.dynCall_iiiiijj=r.asm.Ph).apply(null,arguments)},r.dynCall_iiiiiijj=function(){return(r.dynCall_iiiiiijj=r.asm.Qh).apply(null,arguments)},r.___start_em_js=367361,r.___stop_em_js=367929,r.addRunDependency=q,r.removeRunDependency=H,r.FS_createPath=pe.createPath,r.FS_createDataFile=pe.createDataFile,r.FS_createLazyFile=pe.createLazyFile,r.FS_createDevice=pe.createDevice,r.FS_unlink=pe.unlink,r.callMain=Pi,r.ccall=si,r.cwrap=function(e,r,t,n){var o=!t||t.every((e=>"number"===e||"boolean"===e));return"string"!==r&&o&&!n?ii(e):function(){return si(e,r,t,arguments)}},r.UTF8ToString=he,r.stringToUTF8=kr,r.lengthBytesUTF8=ae,r.FS_createPreloadedFile=pe.createPreloadedFile,U=function e(){pi||Fi(),pi||(U=e)},r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();var Di=!0;return r.noInitialRun&&(Di=!1),Fi(),Vr&&(Vr.getNewId=function(e){Vr.counter++;var r=e.length;if(0===r)return 1;for(var t=1;t<r;++t)if(null===e[t])return t;return r}),r.ready}})();"object"==typeof exports&&"object"==typeof module?module.exports=Module:"function"==typeof define&&define.amd?define([],(function(){return Module})):"object"==typeof exports&&(exports.Module=Module);